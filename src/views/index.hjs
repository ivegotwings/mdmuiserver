<!doctype html>
<html lang="en">

  <head>

    <meta charset="utf-8" />
    <meta name="description" content="Riversand MDMCenter">
    <meta name="viewport" content="width=device-width, minimum-scale=1, initial-scale=1, user-scalable=yes">
    <title>Riversand MDMCenter</title>
    <!-- Chrome for Android theme color -->
    <meta name="theme-color" content="#2E3AA1" />
    <!-- Web Application Manifest -->
    <link rel="manifest" href="manifest.json" />
    <!-- Tile color for Win8 -->
    <meta name="msapplication-TileColor" content="#3372DF" />
    <!-- Add to homescreen for Chrome on Android -->
    <meta name="mobile-web-app-capable" content="yes" />
    <meta name="application-name" content="Riversand MDMCenter">

    <!-- Add to homescreen for Safari on iOS -->
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-status-bar-style" content="black" />
    <meta name="apple-mobile-web-app-title" content="Polymer Starter Kit" />
    <link rel="apple-touch-icon" href="/src/images/touch/apple-touch-icon.png" />
    <link rel="shortcut icon" type="image/ico" href="/src/images/favicon.ico" />
    <script>if (window.customElements) { document.write('<!--'); }</script>
    <script>!function (e) { var r = e.babelHelpers = {}; r.typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (e) { return typeof e } : function (e) { return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e }, r.classCallCheck = function (e, r) { if (!(e instanceof r)) throw new TypeError("Cannot call a class as a function") }, r.createClass = function () { function e(e, r) { for (var t = 0; t < r.length; t++) { var n = r[t]; n.enumerable = n.enumerable || !1, n.configurable = !0, "value" in n && (n.writable = !0), Object.defineProperty(e, n.key, n) } } return function (r, t, n) { return t && e(r.prototype, t), n && e(r, n), r } }(), r.defineEnumerableProperties = function (e, r) { for (var t in r) { var n = r[t]; n.configurable = n.enumerable = !0, "value" in n && (n.writable = !0), Object.defineProperty(e, t, n) } return e }, r.defaults = function (e, r) { for (var t = Object.getOwnPropertyNames(r), n = 0; n < t.length; n++) { var o = t[n], i = Object.getOwnPropertyDescriptor(r, o); i && i.configurable && void 0 === e[o] && Object.defineProperty(e, o, i) } return e }, r.defineProperty = function (e, r, t) { return r in e ? Object.defineProperty(e, r, { value: t, enumerable: !0, configurable: !0, writable: !0 }) : e[r] = t, e }, r.extends = Object.assign || function (e) { for (var r = 1; r < arguments.length; r++) { var t = arguments[r]; for (var n in t) Object.prototype.hasOwnProperty.call(t, n) && (e[n] = t[n]) } return e }, r.get = function e(r, t, n) { null === r && (r = Function.prototype); var o = Object.getOwnPropertyDescriptor(r, t); if (void 0 === o) { var i = Object.getPrototypeOf(r); return null === i ? void 0 : e(i, t, n) } if ("value" in o) return o.value; var a = o.get; if (void 0 !== a) return a.call(n) }, r.inherits = function (e, r) { if ("function" != typeof r && null !== r) throw new TypeError("Super expression must either be null or a function, not " + typeof r); e.prototype = Object.create(r && r.prototype, { constructor: { value: e, enumerable: !1, writable: !0, configurable: !0 } }), r && (Object.setPrototypeOf ? Object.setPrototypeOf(e, r) : e.__proto__ = r) }, r.instanceof = function (e, r) { return null != r && "undefined" != typeof Symbol && r[Symbol.hasInstance] ? r[Symbol.hasInstance](e) : e instanceof r }, r.newArrowCheck = function (e, r) { if (e !== r) throw new TypeError("Cannot instantiate an arrow function") }, r.objectDestructuringEmpty = function (e) { if (null == e) throw new TypeError("Cannot destructure undefined") }, r.objectWithoutProperties = function (e, r) { var t = {}; for (var n in e) r.indexOf(n) >= 0 || Object.prototype.hasOwnProperty.call(e, n) && (t[n] = e[n]); return t }, r.possibleConstructorReturn = function (e, r) { if (!e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); return !r || "object" != typeof r && "function" != typeof r ? e : r }, r.set = function e(r, t, n, o) { var i = Object.getOwnPropertyDescriptor(r, t); if (void 0 === i) { var a = Object.getPrototypeOf(r); null !== a && e(a, t, n, o) } else if ("value" in i && i.writable) i.value = n; else { var u = i.set; void 0 !== u && u.call(o, n) } return n }, r.slicedToArray = function () { function e(e, r) { var t = [], n = !0, o = !1, i = void 0; try { for (var a, u = e[Symbol.iterator](); !(n = (a = u.next()).done) && (t.push(a.value), !r || t.length !== r); n = !0); } catch (e) { o = !0, i = e } finally { try { !n && u.return && u.return() } finally { if (o) throw i } } return t } return function (r, t) { if (Array.isArray(r)) return r; if (Symbol.iterator in Object(r)) return e(r, t); throw new TypeError("Invalid attempt to destructure non-iterable instance") } }(), r.taggedTemplateLiteral = function (e, r) { return Object.freeze(Object.defineProperties(e, { raw: { value: Object.freeze(r) } })) }, r.temporalRef = function (e, r, t) { if (e === t) throw new ReferenceError(r + " is not defined - temporal dead zone"); return e }, r.temporalUndefined = {}, r.toArray = function (e) { return Array.isArray(e) ? e : Array.from(e) }, r.toConsumableArray = function (e) { if (Array.isArray(e)) { for (var r = 0, t = Array(e.length); r < e.length; r++)t[r] = e[r]; return t } return Array.from(e) } }("undefined" == typeof global ? self : global);</script>
    <script type="text/javascript" src="/bower_components/webcomponentsjs/custom-elements-es5-adapter.js"></script>
    <!--! do not remove -->
    <script type="text/javascript" src="/src/scripts/log4javascript.js"></script>
    <script type="text/javascript" src="/src/scripts/rufLogger.js"></script>
    <script type="text/javascript" src="/src/scripts/jquery-slim.js"></script>
    <script>
      RUFUtilities.initializeLogger("{{tenantId}}-{{userId}}");

      // Setup Polymer options
      //window.Polymer = {
      //  dom: 'shadow',
      //  lazyRegister: true,
      //  suppressTemplateNotifications: true
      //};

      // Load webcomponentsjs polyfill if browser does not support native Web Components
      (function () {
        'use strict';
        var onload = function () {
          // For native Imports, manually fire WebComponentsReady so user code
          // can use the same code path for native and polyfill'd imports.
          if (!window.HTMLImports) {
            document.dispatchEvent(
              new CustomEvent('WebComponentsReady', { bubbles: true })
            );
          }
        };

        var webComponentsSupported = (
          'registerElement' in document
          && 'import' in document.createElement('link')
          && 'content' in document.createElement('template')
        );
        console.log("webComponentsSupported ", webComponentsSupported)
        if (!webComponentsSupported) {
          var script = document.createElement('script');
          script.async = true;
          script.src = '/bower_components/webcomponentsjs/webcomponents-lite.js';
          //script.onload = onload;
          document.head.appendChild(script);

          /*var script = document.createElement('script');
          script.async = true;
          script.src = '/bower_components/webcomponentsjs/webcomponents-loader.js';
          script.onload = onload;
          document.head.appendChild(script);*/

        } else {
          var script = document.createElement('script');
          script.async = true;
          script.src = '/bower_components/webcomponentsjs/webcomponents-loader.js';
          //script.onload = onload;
          document.head.appendChild(script);
          //onload();
        }
      })();
      // Load pre-caching Service Worker
      if ('serviceWorker' in navigator) {
        window.addEventListener('load', function () {
          navigator.serviceWorker.register('/service-worker.js');
        });
      }

    </script>
    <!-- import just the settings module, or polymer-element.html or polymer.html -->
    <link rel="import" href="/bower_components/polymer/lib/utils/settings.html">
    <script>
      if (Polymer) {
        Polymer.setPassiveTouchGestures(true);
      }
    </script>
    <link rel="import" href="/src/elements/app-main/main-app.html">
    <link rel="import" href="/src/elements/rock-preloader/rock-preloader.html">

    <style>
      body {
        overflow: hidden;
        margin: 0;
        font-family: 'Roboto', Helvetica, Arial, sans-serif;
        line-height: 1.5;
        min-height: 100vh;
        scrollbar-face-color: #c1cad4;
        scrollbar-arrow-color: #ccc;
        scrollbar-track-color: #eee;
        scrollbar-shadow-color: #c1cad4;
      }

      [visibility-hidden] {
        visibility: hidden;
      }

      /* Scrollbar Styles Starts Chrome*/

      ::-webkit-scrollbar {
        width: 8px;
        height: 8px;
      }

      ::-webkit-scrollbar-thumb {
        background: var(--palette-cloudy-blue, #c1cad4);
        border-radius: 5px;
      }

      ::-webkit-scrollbar-track {
        background: #e6eaee;
        border-radius: 5px;
      }

      /* Scrollbar Styles Starts Firefox*/

      ::-moz-scrollbar {
        width: 8px;
        height: 8px;
      }

      ::-moz-scrollbar-thumb {
        background: var(--palette-cloudy-blue, #c1cad4);
        border-radius: 5px;
      }

      ::-moz-scrollbar-track {
        background: #e6eaee;
        border-radius: 5px;
      }

      /* Scrollbar Styles Starts IE*/

      ::-scrollbar {
        width: 8px;
        height: 8px;
      }

      ::-scrollbar-thumb {
        background: var(--palette-cloudy-blue, #c1cad4);
        border-radius: 5px;
      }

      ::-scrollbar-track {
        background: #e6eaee;
        border-radius: 5px;
      }
    </style>
  </head>

  <body>
    <rock-preloader id="mainAppSpinner" tenant-logo-text="{{tenantId}}" active="true"></rock-preloader>
    {{#isAuthenticated}}
    <main-app unresolved visibility-hidden no-preload="{{noPreload}}" id="app" is-authenticated="{{isAuthenticated}}" tenant-id="{{tenantId}}"
      user-id="{{userId}}" role-id="{{roleId}}" full-name="{{fullName}}" user-name="{{userName}}" ownership-data="{{ownershipData}}"></main-app>
    {{/isAuthenticated}} {{^isAuthenticated}}
    <main-app unresolved visibility-hidden no-preload="{{noPreload}}" id="app" tenant-id="{{tenantId}}"></main-app>
    {{/isAuthenticated}}

    <!-- build:js scripts/app.js -->
    <script type="text/javascript" src="/src/elements/app-main/main-app.js"></script>
    <!-- endbuild-->
    <script type="text/javascript" src="/src/scripts/fileDownloader.js"></script>
  </body>

</html>