<!doctype html>
<html lang="en">

  <head>

    <meta charset="utf-8" />
    <meta name="description" content="Riversand MDMCenter">
    <meta name="viewport" content="width=device-width, minimum-scale=1, initial-scale=1, user-scalable=yes">
    <title>Riversand MDMCenter</title>
    <!-- Chrome for Android theme color -->
    <meta name="theme-color" content="#2E3AA1" />
    <!-- Web Application Manifest -->
    <link rel="manifest" href="manifest.json" />
    <!-- Tile color for Win8 -->
    <meta name="msapplication-TileColor" content="#3372DF" />
    <!-- Add to homescreen for Chrome on Android -->
    <meta name="mobile-web-app-capable" content="yes" />
    <meta name="application-name" content="Riversand MDMCenter">

    <!-- Add to homescreen for Safari on iOS -->
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-status-bar-style" content="black" />
    <meta name="apple-mobile-web-app-title" content="Polymer Starter Kit" />

    <link rel="apple-touch-icon" href="/src/images/touch/apple-touch-icon.png" />
    <link rel="shortcut icon" type="image/ico" href="/src/images/favicon.ico" />
    <link href="https://fonts.googleapis.com/css?family=Roboto" rel="stylesheet">

    <!--! do not remove -->
    <script type="text/javascript" src="/src/scripts/log4javascript.js"></script>
    <script type="text/javascript" src="/src/scripts/rufLogger.js"></script>
    <script type="text/javascript" src="/src/scripts/jquery-slim.js"></script>
    
    <style>
      body {
        overflow: hidden;
        margin: 0;
        font-family: 'Roboto', Helvetica, Arial, sans-serif;
        line-height: 1.5;
        min-height: 100vh;
        scrollbar-face-color: #c1cad4;
        scrollbar-arrow-color: #ccc;
        scrollbar-track-color: #eee;
        scrollbar-shadow-color: #c1cad4;
        display: block;
        vertical-align: middle;
      }

      [visibility-hidden] {
        display: none;
      }

      /* Scrollbar Styles Starts Chrome*/

      ::-webkit-scrollbar {
        width: 8px;
        height: 8px;
      }

      ::-webkit-scrollbar-thumb {
        background: var(--palette-cloudy-blue, #c1cad4);
        border-radius: 5px;
      }

      ::-webkit-scrollbar-track {
        background: #e6eaee;
        border-radius: 5px;
      }

      /* Scrollbar Styles Starts Firefox*/

      ::-moz-scrollbar {
        width: 8px;
        height: 8px;
      }

      ::-moz-scrollbar-thumb {
        background: var(--palette-cloudy-blue, #c1cad4);
        border-radius: 5px;
      }

      ::-moz-scrollbar-track {
        background: #e6eaee;
        border-radius: 5px;
      }

      /* Scrollbar Styles Starts IE*/

      ::-scrollbar {
        width: 8px;
        height: 8px;
      }

      ::-scrollbar-thumb {
        background: var(--palette-cloudy-blue, #c1cad4);
        border-radius: 5px;
      }

      ::-scrollbar-track {
        background: #e6eaee;
        border-radius: 5px;
      }

      body[unresolved] rock-preloader[unresolved] {
        display: block;
        min-height: 101vh;
        line-height: 68px;
        text-align: center;
        font-size: 16px;
        font-weight: 600;
        letter-spacing: 0.3em;
        color: #202020;
        padding: 0 16px;
        overflow: visible;
      }
      /*Loader Styles*/

       @-webkit-keyframes initial-loading {
          0%,100% {
              -webkit-transform: translate(-87px,0);
              transform: translate(-87px,0)
          }
      
          50% {
              -webkit-transform: translate(260px,0);
              transform: translate(260px,0)
          }
      }
      
      @keyframes initial-loading {
          0%,100% {
              -webkit-transform: translate(-87px,0);
              transform: translate(-87px,0)
          }
      
          50% {
              -webkit-transform: translate(260px,0);
              transform: translate(260px,0)
          }
      }

      #loadingText{
        font-size: 14px;
        margin-bottom: 10px;
        font-family: 'Roboto', Helvetica, Arial, sans-serif;
      }


      #loader {
        height: 36px;
        text-align: center;
        color: #757f8a;
        position:absolute;
        top:50%;
        left:50%;
        margin-left: -175px;
        margin-top:-18px;
      }
      .load-animation .loading-bar{
          width: 350px;
          height: 4px;
          margin: 0 auto;
          border-radius: 2px;
          background-color: #cfcfcf; 
          position: relative;
          overflow: hidden;
          z-index: 1;
          -webkit-transform: rotateY(0);
          transform: rotateY(0);
          transition: -webkit-transform .3s ease-in;
          transition: transform .3s ease-in;
          transition: transform .3s ease-in, -webkit-transform .3s ease-in
      }
      .load-animation .loading-bar .color-bar{
          height: 100%;
          width: 174px;
          position: absolute;
          -webkit-transform: translate(-87px,0);
          transform: translate(-87px,0);
          background-color: rgba(19, 158, 231, 0.53);
          border-radius: 2px;
          -webkit-animation: initial-loading 1s infinite ease;
          animation: initial-loading 1s infinite ease
      }
    </style>
  </head>

  <body unresolved>
    <script>
      // Force all polyfills on
      //if (window.customElements) {
      //  window.customElements.forcePolyfill = true;
      //}

      //ShadyDOM = { force: true };
      //ShadyCSS = { shimcssproperties: true };

      RUFUtilities.initializeLogger("{{tenantId}}-{{userId}}");

      // Load pre-caching Service Worker
      if ('serviceWorker' in navigator) {
        console.log('service worker would be attached');
        window.addEventListener('load', function () {
          navigator.serviceWorker.register('/service-worker.js');
        });
      }

      window.addEventListener('HTMLImportsLoaded', function(e) {
        console.log('all html imports are loaded');
      });

      window.addEventListener('WebComponentsReady', function(e) {
        console.log('all web components are ready now');

        // Polymer.RenderStatus.afterNextRender(this.$.mainAppSpinner, () => {
        //   Polymer.importHref('/src/elements/app-main/main-app.html', null, null, true);
        // });
      });
      
    </script>
    <script type="text/javascript" src="/src/scripts/webcomponents-loader.js"></script>

    <!-- 
    <link rel="import" href="/bower_components/polymer/polymer.html">

    <link rel="import" href="/src/elements/rock-preloader/rock-preloader.html">
    <rock-preloader id="mainAppSpinner" tenant-logo-text="{{tenantId}}" active="true"></rock-preloader> -->

    {{#isAuthenticated}}
    
    <link rel="import" href="/src/elements/app-main/main-app.html" async>
    <main-app visibility-hidden no-preload="{{noPreload}}" id="app" is-authenticated="{{isAuthenticated}}" tenant-id="{{tenantId}}"
      user-id="{{userId}}" role-id="{{roleId}}" full-name="{{fullName}}" user-name="{{userName}}" ownership-data="{{ownershipData}}"></main-app>
    
    {{/isAuthenticated}}

    <!-- build:js scripts/app.js -->
    <script type="text/javascript" src="/src/elements/app-main/main-app.js"></script>
    <!-- endbuild-->
    <script type="text/javascript" src="/src/scripts/fileDownloader.js"></script>

    <!-- Loader -->
    
    <div id="loader">
        <div id="loadingText">Loading resources ...</div>
        <div class="load-animation">
            <div class="loading-bar">
              <div class="color-bar"></div>
            </div>
          </div>
      </div>
  </body>
</html>