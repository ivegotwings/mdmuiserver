<!doctype html>
<html lang="en">

<head>

	<meta charset="utf-8" />
	<meta name="description" content="Riversand MDMCenter">
	<meta name="viewport" content="width=device-width, minimum-scale=1, initial-scale=1, user-scalable=yes">
	<title>Riversand MDMCenter</title>
	<!-- Chrome for Android theme color -->
	<meta name="theme-color" content="#2E3AA1" />
	<!-- Web Application Manifest -->
	<link rel="manifest" href="manifest.json" />
	<!-- Tile color for Win8 -->
	<meta name="msapplication-TileColor" content="#3372DF" />
	<!-- Add to homescreen for Chrome on Android -->
	<meta name="mobile-web-app-capable" content="yes" />
	<meta name="application-name" content="Riversand MDMCenter">
	
	<!-- Add to homescreen for Safari on iOS -->
	<meta name="apple-mobile-web-app-capable" content="yes" />
	<meta name="apple-mobile-web-app-status-bar-style" content="black" />
	<meta name="apple-mobile-web-app-title" content="Polymer Starter Kit" />
	<link rel="apple-touch-icon" href="/src/images/touch/apple-touch-icon.png" />
  <link rel="shortcut icon" type="image/ico" href="/src/images/favicon.ico"/>
  <script type="text/javascript" src="/src/scripts/log4javascript.js"></script>
	<script type="text/javascript" src="/src/scripts/rufLogger.js"></script>
  <script type="text/javascript" src="/src/scripts/jquery-slim.js"></script>
	<script>
       RUFUtilities.initializeLogger("{{tenantId}}-{{userId}}");

      // Setup Polymer options
      window.Polymer = {
        dom: 'shadow',
        lazyRegister: true,
        suppressTemplateNotifications: true
      };

      // Load webcomponentsjs polyfill if browser does not support native Web Components
      (function() {
        'use strict';
        var onload = function() {
          // For native Imports, manually fire WebComponentsReady so user code
          // can use the same code path for native and polyfill'd imports.
          if (!window.HTMLImports) {
            document.dispatchEvent(
              new CustomEvent('WebComponentsReady', {bubbles: true})
            );
          }
        };

        var webComponentsSupported = (
         'registerElement' in document
          && 'import' in document.createElement('link')
          && 'content' in document.createElement('template')
        );
        if (!webComponentsSupported) {
          var script = document.createElement('script');
          script.async = true;
          script.src = '/bower_components/webcomponentsjs/webcomponents-lite.js';
          script.onload = onload;
          document.head.appendChild(script);
        } else {
          onload();
        }
      })();
      // Load pre-caching Service Worker
      if ('serviceWorker' in navigator) {
        window.addEventListener('load', function() {
          navigator.serviceWorker.register('/service-worker.js');
        });
      }
     
    </script>
	<!-- Styles -->
  <link rel="import" href="/src/elements/app-main/main-app.html">
  <link rel="import" href="/src/elements/rock-preloader/rock-preloader.html">
  
	<style>
		body {
			overflow: hidden;
			margin: 0;
			font-family: 'Roboto',Helvetica,Arial,sans-serif;
			line-height: 1.5;
			min-height: 100vh;
			scrollbar-face-color:#c1cad4;
      scrollbar-arrow-color:#ccc;
      scrollbar-track-color:#eee;
      scrollbar-shadow-color:#c1cad4;
		}
    [visibility-hidden] {
      visibility: hidden;
    } 
    /* Scrollbar Styles Starts Chrome*/            
    ::-webkit-scrollbar {
        width: 8px;
        height: 8px;
    }            
    ::-webkit-scrollbar-thumb {
        background: var(--palette-cloudy-blue, #c1cad4);
        border-radius: 5px;
    }            
    ::-webkit-scrollbar-track {
        background: #e6eaee;
        border-radius: 5px;
    }

    /* Scrollbar Styles Starts Firefox*/      
    ::-moz-scrollbar {
        width: 8px;
        height: 8px;
    }            
    ::-moz-scrollbar-thumb {
        background: var(--palette-cloudy-blue, #c1cad4);
        border-radius: 5px;
    }            
    ::-moz-scrollbar-track {
        background: #e6eaee;
        border-radius: 5px;
    }

    /* Scrollbar Styles Starts IE*/            
    ::-scrollbar {
        width: 8px;
        height: 8px;
    }            
    ::-scrollbar-thumb {
        background: var(--palette-cloudy-blue, #c1cad4);
        border-radius: 5px;
    }
    ::-scrollbar-track {
        background: #e6eaee;
        border-radius: 5px;
    }
  </style>
</head>

<body>
  <rock-preloader id="mainAppSpinner" tenant-logo-text="{{tenantId}}" active="true"></rock-preloader>
  {{#isAuthenticated}}
    <main-app unresolved visibility-hidden no-preload="{{noPreload}}" id="app" is-authenticated="{{isAuthenticated}}" tenant-id="{{tenantId}}" user-id="{{userId}}" role-id="{{roleId}}" full-name="{{fullName}}" user-name="{{userName}}" ownership-data="{{ownershipData}}"></main-app>
  {{/isAuthenticated}}
  {{^isAuthenticated}}
    <main-app unresolved visibility-hidden no-preload="{{noPreload}}" id="app" tenant-id="{{tenantId}}"></main-app>
  {{/isAuthenticated}}
 
	<!-- build:js scripts/app.js -->
	<script type="text/javascript" src="/src/elements/app-main/main-app.js"></script>
	<!-- endbuild-->
  <script type="text/javascript" src="/src/scripts/fileDownloader.js"></script>
</body>

</html>