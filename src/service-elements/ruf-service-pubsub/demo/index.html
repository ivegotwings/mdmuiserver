<!doctype html>
<html>

<head>
	<title>ruf-service-pubsub demo</title>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, minimum-scale=1.0, initial-scale=1, user-scalable=yes">
	<script src="../../webcomponentsjs/webcomponents-lite.js"></script>

	<link rel="import" href="../../iron-demo-helpers/demo-pages-shared-styles.html">
	<link rel="import" href="../../iron-demo-helpers/demo-snippet.html">
	<link rel="import" href="../../paper-button/paper-button.html">
	<link rel="import" href="../ruf-service-pubsub.html">

	<style is="custom-style" include="demo-pages-shared-styles">
		paper-button {
			width: 50%;
			margin-bottom: 10px;
		}
		
		#button1 {
			background: gray;
		}
		
		#button1:hover {
			background: green;
		}
		
		#button2 {
			background: gray;
		}
		
		#button2:hover {
			background: red;
		}
		
		#eventInfo {
			margin-top: 30px;
		}
		
		.green {
			color: green;
		}
		
		.red {
			color: red;
		}
	</style>
</head>

<body>

	<div class="vertical-section vertical-section-container centered">
		<h3>Basic ruf-service-pubsub Demo</h3>
		<h1>&lt;ruf-service-pubsub&gt;</h1>
		<template is="dom-bind" id="demo-app">
			<paper-button id="button1" raised>Button1</paper-button>
			<paper-button id="button2" raised>Button2</paper-button>
			<ruf-service-pubsub on-ruf-event-demo="demoEvent"></ruf-service-pubsub>
		</template>

		<template is="dom-bind" id="event-message">
			<div id="eventInfo">
				<template is="dom-if" if="{{eventInfo}}">
					<div>
						<code>demo-app</code> got a <span> {{eventInfo}}</span> <code>event</code>
					</div>
				</template>
			</div>
		</template>
	</div>

	<script>

    document.addEventListener("WebComponentsReady", function() {
			document.querySelector('#button1').onclick = function(){
         document.querySelector('#demo-app').fire('ruf-event', {name: "demo", data: {msg: "button1 click data!", cssClass: "green"}});
				 
			}
			document.querySelector('#button2').onclick = function(){
				 document.querySelector('#demo-app').fire('ruf-event', {name: "demo", data: {msg:"button2 click data!", cssClass: "red"}});
			}
      
    });

    document.querySelector("#demo-app").demoEvent = function(e, detail, sender) {
      document.querySelector("#event-message").eventInfo = detail.msg;
			document.querySelector("#eventInfo").className = detail.cssClass;
    };
  </script>

</body>

</html>