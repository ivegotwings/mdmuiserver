<link rel="import" href="../../../bower_components/iron-ajax/iron-ajax.html">
<link rel="import" href="../rock-tags/rock-tags.html">
<dom-module id="rock-saved-searches-tags">
    <template>
        <style include="shared-styles"></style>
        <rock-tags tags="{{_savedSearchesTags}}"></rock-tags>
        <iron-ajax auto url="../../data/saved-searches.json" handle-as="json" last-response="{{_savedSearches}}"></iron-ajax>
    </template>
    <script>
        (function() {
            'use strict';

            Polymer({
                is: 'rock-saved-searches-tags',
                properties: {
                    /*
                     * This property represents the name of the saved search category for which the tags has to be loaded
                     */
                    savedSearchCategory: {
                        type: String
                    },
                    _savedSearches: {
                        type : Object,
                        notify : true,
                        value : function(){return {}},
                        observer: '_loadSavedSearches'
                    },
                    _savedSearchesTags: {
                        type: Array,
                        notify: true,
                        value:function(){return []},
                    }
                },
                _loadSavedSearches: function() {
                    if (this._savedSearches) {
                        this._savedSearchesTags = this._savedSearches[this.savedSearchCategory];
                    }
                }
            });

        })();
    </script>
</dom-module>