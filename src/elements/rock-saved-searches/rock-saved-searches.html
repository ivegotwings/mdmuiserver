<link rel="import" href="../rock-tabs/rock-tabs.html">
<!--
`rock-saved-searches` Represents an element that displays the saved searches.

@demo demo/index.html
-->
<dom-module id="rock-saved-searches">
    <template>
        <style include="pebble-shared-styles"></style>
        <rock-tabs config="{{_tabConfig}}"></rock-tabs>
    </template>
    <script>
    (function() {
      'use strict';

      Polymer({
        is: 'rock-saved-searches',

        properties: {
         /**
           * Fired when any of the saved search is tapped in 
           * saved search widget with name: "rock-saved-search-click". Here, data is the data of the clicked saved search.
           *
           * @event bedrock-event
           */

          /**
            * Indicates the config for tabs.
            */
            _tabConfig: {
                type:Object,
                notify: true,
                value:function(){
                    return {
                            "scrollable": false,
                            "tabItems": [
                                {
                                    "name": "favourites",
                                    "title": "Favourites",
                                    "enableDropdownMenu": false,
                                    "component": {
                                        "name": "rock-saved-searches-tags",
                                        "path": "/src/elements/rock-saved-searches/rock-saved-searches-tags.html",
                                        "properties": {
                                            "saved-search-category": "favourites"
                                        }
                                    }
                                },
                                {
                                    "name": "my-searches",
                                    "title": "My Searches",
                                    "enableDropdownMenu": false,
                                    "selected" : true,
                                    "component": {
                                        "name": "rock-saved-searches-tags",
                                        "path": "/src/elements/rock-saved-searches/rock-saved-searches-tags.html",
                                        "properties": {
                                            "saved-search-category": "my-searches"
                                        }
                                    }
                                },
                                {
                                    "name": "shared-searches",
                                    "title": "Shared Searches",
                                    "enableDropdownMenu": false,
                                    "component": {
                                        "name": "rock-saved-searches-tags",
                                        "path": "/src/elements/rock-saved-searches/rock-saved-searches-tags.html",
                                        "properties": {
                                            "saved-search-category": "shared-searches"
                                        }
                                    }
                                }
                            ]
                    }
                }
            }
        },

        listeners: {
            'tag-item-select': '_onTagItemSelect',
        },

        /**
         * Fired when filter tag triggers a tag-item-select event.
        */
        _onTagItemSelect: function(e) {
            var eventData = {
                name : "rock-saved-search-click",
                data : e.detail
            };
            this.fire('bedrock-event', eventData);
        }
      });
    })();

    </script>
</dom-module>