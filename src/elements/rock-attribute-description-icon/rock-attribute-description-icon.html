<link rel="import" href="../../../bower_components/polymer/polymer.html">
<link rel="import" href="../../../bower_components/iron-ajax/iron-ajax.html">
<link rel="import" href="../../../bower_components/iron-flex-layout/iron-flex-layout-classes.html">
<link rel="import" href="../../../bower_components/shadycss/apply-shim.html">
<link rel="import" href="../../../bower_components/polymer/lib/elements/custom-style.html">

<link rel="import" href="../pebble-styles-app/pebble-styles-app.html">
<link rel="import" href="../pebble-icon/pebble-icon.html">
<link rel="import" href="../pebble-icons/pebble-icons.html">

<link rel="import" href="../pebble-popover/pebble-popover.html">
<link rel="import" href="../pebble-button/pebble-button.html">

<!--
    @group rock Elements
    @element rock-attribute-description-icon
-->
<dom-module id="rock-attribute-description-icon">
    <template>
        <style>
            :root {
                --rock-attrubute-description-icon-color: #BECAD4;
            }

            pebble-popover {
                font-weight: normal;
                text-transform: initial;
                --default-popup-b-p: 5px;
                --default-popup-t-p: 5px;
                --default-font-size: 12px;
                --pebble-popover-text-color: var(--default-text-color);
            }

            .description-image-wrapper {
                cursor: pointer;
                display: inline-block;
            }

            .attributes-description {
                padding-left: 5px;
                padding-right: 5px;
            }
        </style>
        <template is="dom-if" if="[[attributeProperties.description]]">
            <div class="description-image-wrapper"
                 id="show-description-icon"
                 on-click="_showDescription">
                <img src="../../../src/images/info.svg" />
            </div>
            <pebble-popover id="description-popover" for="show-description-icon">
                <div class="attributes-description">{{attributeProperties.description}}</div>
            </pebble-popover>
        </template>
    </template>

    <script>
        Polymer({
            is: 'rock-attribute-description-icon',

            attributeProperties: {
                attributes: {
                    type: Object,
                    notify: true,
                    value: function () {
                        return {};
                    }
                }
            },

            _showDescription: function () {
                var description = Polymer.dom(this.root).querySelector('#description-popover');
                if (description) {
                    description.show();
                }
            }
        });

    </script>
</dom-module>
