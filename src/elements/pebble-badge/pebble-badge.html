<link rel="import" href="../../../bower_components/polymer/polymer.html">

<link rel="import" href="../../../bower_components/paper-icon-button/paper-icon-button.html">
<link rel="import" href="../../../bower_components/paper-badge/paper-badge.html">

<!--
`<pebble-badge>` is a circular text badge that is displayed on the top right
corner of an element, representing a status or a notification. This uses paper-badge.

Example:

    <pebble-badge id="socialBadge" icon="social:mood" label="54">
    </pebble-badge>

    <pebble-badge is-text-with-badge label="54" text="Badge with Text" class="badgetextstyle">
		</pebble-badge>

### Styling

The following custom properties and mixins are available for styling:

Custom property | Description | Default

-----------------------------------------------------------------------------------

`--pebble-badge-background` | The background color of the badge | `--accent-color`

`--pebble-badge-opacity` | The opacity of the badge | `1.0`

`--pebble-badge-text-color` | The color of the badge text | `white`

`--pebble-badge-width` | The width of the badge circle | `20px`

`--pebble-badge-height` | The height of the badge circle | `20px`

`--pebble-badge-margin-left` | Optional spacing added to the left of the badge. | `0px`

`--pebble-badge-margin-bottom` | Optional spacing added to the bottom of the badge. | `0px`

`--pebble-badge-icon-button-disabled-text` | The color of the disabled button | `--disabled-text-color`

`--pebble-badge-icon-button-ink-color` | Selected/focus ripple color | `--primary-text-color`

`--pebble-badge` | Mixin applied to the badge | `{}`

`--pebble-badge-icon-button` | Mixin for a button | `{}`

`--pebble-badge-icon-button-disabled` | Mixin for a disabled button | `{}`

`--pebble-badge-icon-button-hover` | Mixin for button on hover | `{}`


@group Pebble Elements
@element pebble-badge
@demo demo/index.html
-->

<dom-module id="pebble-badge">
  <template>
    <style>     
      
      paper-badge {

        @apply(--layout);
        @apply(--layout-center-center);
        @apply(--pebble-font-common-base);

        font-weight: normal;
        font-size: 11px;
        border-radius: 50%;
        --paper-badge-margin-left: var(--pebble-badge-margin-left, 0px);
        --paper-badge-margin-bottom: var(--pebble-badge-margin-bottom, 0px);
        --paper-badge-width: var(--pebble-badge-width, 20px);
        --paper-badge-height: var(--pebble-badge-height, 20px);
        --paper-badge-background: var(--pebble-badge-background, --accent-color);
        --paper-badge-opacity: var(--pebble-badge-opacity, 1.0);
        --paper-badge-text-color: var(--pebble-badge-text-color, white);
        --paper-badge: @apply(--pebble-badge);
      }

      paper-icon-button{
        --paper-icon-button-ink-color: var(--pebble-badge-icon-button-ink-color, --primary-text-color);
        --paper-icon-button-disabled-text: var(--pebble-badge-icon-button-disabled-text, --disabled-text-color);
        --paper-icon-button: apply(--pebble-badge-icon-button);
        --paper-icon-button-disabled: @apply(--pebble-badge-icon-button-disabled);
        --paper-icon-button-hover: @apply(--pebble-badge-icon-button-hover);
      }
    </style>

    <template is="dom-if" if="[[!isTextWithBadge]]">
      <paper-icon-button id="{{id}}" icon="{{icon}}" alt="{{alt}}">
      </paper-icon-button>
      <paper-badge for="{{id}}" label="{{label}}" icon={{badgeIcon}}>
      </paper-badge>
    </template>

    <template is="dom-if" if="[[isTextWithBadge]]">
        <span>{{text}}</span>
        <paper-badge label="{{label}}" icon={{badgeIcon}}></paper-badge>
    </template>

  </template>

  <script>
    Polymer({
      is: 'pebble-badge',

      properties: {

        /**
         * The id of the element that the badge is anchored to. This element
         * must be a sibling of the badge.
         */
        id: {
          type: String
        },

        /**
         * The label displayed in the badge. The label is centered, and ideally
         * should have very few characters.
         */
        label: {
          type: String
        },

        /**
         * A pebbel-icons ID for button. When given, the button displays that icon
         */
        icon: {
          type: String
        },

        /**
         * A pebbel-icons ID for badge, if icon is not given then label will be shown
         */
        badgeIcon: {
          type: String
        },

         /**
         * Default button with badge will be displayed,
         * if user chosen isTextWithBadge then text with badge will be shown
         */        
        isTextWithBadge: {
             type: Boolean,
             value: false
        },

        /**
         *  if user chosen isTextWithBadge then text with badge will be shown.
         *  for this text will be given with this property.
         */
        text: {
          type: String
        },

        /**
         * Specifies the alternate text for the button, for accessibility.
         */
        alt: {
          type: String
        }
      },
    })
  </script>
</dom-module>