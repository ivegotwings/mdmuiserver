<link rel="import" href="../../../bower_components/polymer/polymer.html">
<link rel="import" href="../rock-widget/rock-widget.html">
<!--
`rock-widget-panel` Represents an element that displays `rock-widgets` 
based on the configuration that user has provided.

@demo demo/index.html
-->
<dom-module id="rock-widget-panel">
	<template>
		<style include="pebble-styles-shared">
            #widget-panel{
                padding: 5px;
                background: var(--palette-pale-grey-five);
                height: 100vh;
            }
        </style>
		<div id="widget-panel" class="row border-top">
			<template is="dom-repeat" items="{{config.widgets}}" as="widget">
				<div class$="[[_computeLayout()]]">
					<rock-widget id="[[widget.name]]" config="[[widget.config]]" icon-buttons="[[widget.iconButtons]]" non-closable="[[widget.nonClosable]]"
						non-maximizable="[[widget.nonMaximizable]]" non-draggable="[[widget.nonDraggable]]">
					</rock-widget>
				</div>
			</template>
		</div>
	</template>
</dom-module>
<script>
    (function() {
      'use strict';

      Polymer({
          is: 'rock-widget-panel',
          properties: {
            /*
             * Indicates the configuration information that user has provided.
             */
            config: {
              type: Object,
              value: function () { 
                return {}; 
              },
              notify: true
            },
            /*
             * Indicates the grid system for the element.
             */
            noOfColumns: {
                type: Number,
                value: 2,
                notify: true
            }
          },
          _computeLayout: function() {
            if (this.noOfColumns == 1){
                return "colspan-1"; 
            }
            if (this.noOfColumns == 2){
                return "colspan-2"; 
            }
            if (this.noOfColumns == 3){
                return "colspan-3"; 
            }
          }
      });
    })();
</script>