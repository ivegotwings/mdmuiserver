<link rel="import" href="../../../../bower_components/polymer/polymer.html">
<link rel="import" href="../../pebble-image-viewer/pebble-image-viewer.html">
<link rel="import" href="../../../../bower_components/iron-flex-layout/iron-flex-layout-classes.html">

<dom-module id="mdm-notifications">
  <template>
    <style is="custom-style" include="iron-flex iron-flex-alignment">
      /*For rounding and sizing the image*/
      
      .thumbImage {
        width: 40px;
        height: 40px;
      }
      /*Profile container style*/
      
      .container {
        max-width: var(--profile-container-max-width, 250px);
        max-height: var(--profile-container-max-height, 60px);
        padding: var(--profile-container-padding, 2px);
        font-size: var(--profile-font-size, 12px);
        margin-bottom: 10px;
      }
      /*For Image*/
      
      .img-box {
        width: var(--profile-image-box-width, 60px);
        @apply(--image-box-styles);
      }
      /*For Name*/
      
      .when-box {
        color: #928d8d;
        @apply(--name-box-styles);
      }
      /*For Date*/
      
      .desc-box {
        color: #000000;
        @apply(--date-box-styles);
      }
      /*For Icon*/
      /*Profile horizontal div styles*/
      
      .flex-horizontal {
        @apply(--layout-horizontal);
      }
      /*Profile verticle div styles*/
      
      .flex-vertical {
        max-width: var(--profile-flex-verticle-max-width, 180px);
      }
      /*Profile content style*/
      
      .box {
        display: -webkit-box;
        display: -webkit-flex;
        display: -ms-flexbox;
        display: flex;
        justify-content: left;
        -webkit-justify-content: left;
        align-items: center;
        -webkit-align-items: center; /* Safari 7.0+ */
        align-content: left;
        -webkit-align-content: left;
      }
    </style>

    <template is="dom-repeat" items="{{notifications}}">
      <template is="dom-if" if="{{showLine(index)}}">
        <hr>
      </template>
      <div class="container flex-horizontal">
        <!-- Image section -->
        <div class="img-box box">
          <pebble-image-viewer src="{{item.src}}" alt="text" shape="circle" sizing="contain" class="thumbImage"></pebble-image-viewer>
        </div>

        <!-- when & description section -->
        <div class="flex-vertical">
          <div class="when-box box">
            {{item.when}}
          </div>
          <div class="desc-box box">
            {{item.desc}}
          </div>
        </div>
      </div>
    </template>

  </template>

  <script>
    Polymer({
      is: 'mdm-notifications',

      properties: {

        /**
         * The URL of an image.
         */
        src: {          
          type: String,
          value: ''
        },

        /**
         * A short text alternative for the image.
         */
        alt: {
          type: String,
          value: null
        },

        /**
         * when notification raised
         */
        when: {          
          type: String,
          value: ''
        },

        /**
        Any desc
        */
        desc: {
          type: String,
          value: ''
        },

      notifications: {
			type: Array,
			notify: true,
		  }
	  },
	  ready: function(){
          this.notifications = [
			  					{src: 'no-photo.jpg', when: '2 hrs ago', desc: 'Delete drafts in #1500000'},
									{src: 'no-photo.jpg', when: 'November 15, 2016', desc: '2 merchandising import failed'},									
									{src: 'no-photo.jpg', when: 'August 01, 2016', desc: '10 items failed validation'},
									{src: 'no-photo.jpg', when: 'Apr 10, 2016', desc: 'Delete drafts in #1500000'},									
							   ];
	  },
    showLine: function(index){
      return index == 1;
    },
    });   
  </script>
</dom-module>