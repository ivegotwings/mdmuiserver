<dom-module id="rock-dashboard">
  <template>
    <style include="shared-styles"></style>
    <style>
     :host a {
        text-decoration: underline;
        color: blue;
        cursor: pointer;
     }
    </style>

    <div >
      Welocome to dashboard... click some links below!
      <ul>
        <li><a title="Entity 1" name="entity1" on-click="openEntity">Entity 1</a></li>
        <li><a title="Entity 2" name="entity2" on-click="openEntity">Entity 2</a></li>
        <li><a title="Entity 3" name="entity3" on-click="openEntity">Entity 3</a></li>
      </ul>
    </div>
  </template>

  <script>
    (function() {
      'use strict';

      Polymer({
        is: 'rock-dashboard',
         properties: {
           contentViewManager: {
             type: Object
           }
         },
        openEntity: function(e) {
          var title = e.currentTarget.title;
          var name = e.currentTarget.name;
          var noOfColumns = name.slice(-1);
          var config = {
            "name": name,
            "title": title,
            "data_route": name,
            "icon": "pebble-icons:trending-up",
            "href": "/" + name,
            "nonClosable": false,
            "nonMinimizable": false,
            "component": {
              "name": "rock-attribute-list",
              "path": "../../src/elements/rock-attribute-list/rock-attribute-list.html",
              "properties": {
                "mode": "view",
                "no-of-columns": noOfColumns
              }
            }
          };
          var manageConfig = {
            "name": name,
            "title": title,
            "data_route": name,
            "icon": "pebble-icons:trending-up",
            "href": "/" + name,
            "nonClosable": false,
            "nonMinimizable": false,
            "component": {
              "name": "app-entity-manage",
              "path": "../../src/elements/app-entity-manage/app-entity-manage.html",
              "properties": {
                "mode": "view",
                "no-of-columns": noOfColumns
              }
            }
          };
          this.contentViewManager.openView(name, manageConfig);
        }
      });
    })();
  </script>

</dom-module>
