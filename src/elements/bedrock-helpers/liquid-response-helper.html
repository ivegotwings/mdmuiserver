<script>
        (function () {
            class LiquidResponseHelper {
                static downloadURLResponseMapper(e, mapperFunc) {
                    if (
                        !e || 
                        !e.detail || 
                        !e.detail.response || 
                        !e.detail.response.response
                    ) return;
                
                    const response = e.detail.response.response;

                    const binaryStreamObjects = response.status.toLowerCase() == "success"
                        && response.binaryStreamObjects;
                    
                    if (!binaryStreamObjects) return;

                    binaryStreamObjects.forEach(obj => {
                        if(!obj.data) return;

                        const downloadURL = obj.data.properties.downloadURL;

                        if(!downloadURL) return;

                        mapperFunc(downloadURL);
                    });
                }
            }
        })();
</script>