<link rel="import" href="../../../bower_components/polymer/polymer.html">

<link rel="import" href="../pebble-icon/pebble-icon.html">
<link rel="import" href="../pebble-button/pebble-button.html">
<link rel="import" href="../pebble-popover/pebble-popover.html">
<link rel="import" href="../pebble-lov/pebble-lov.html">
<link rel="import" href="../pebble-styles-shared/pebble-styles-shared.html">

<link rel="import" href="../rock-search-bar/rock-search-bar.html">
<link rel="import" href="../rock-grid/rock-grid.html">

<!--
`<rock-import-list>`

@group rock Elements
@element rock-import-list
@demo demo/index.html
-->

<dom-module id="rock-import-list">
    <template>
        <style include="pebble-styles-shared"></style>
        <style is="custom-style">
            .searchBar{
                width:60%;
                margin-left: 20px;
                display: inline-block;
            }
            #stateButton{
                margin-left: 15px;
            }

        </style>
        <rock-search-bar id="" class="searchBar"></rock-search-bar>
        <bedrock-pubsub event-name="se" handler-name="" target-id=""></bedrock-pubsub>
        <pebble-button id="stateButton" button-text="State" icon="pebble-sm-icons:Filter-wt" class="dropdownText dropdownIcon btn dropdown-primary dropdown-trigger" noink dropdown-icon on-tap="_onStateButtonTap"></pebble-button>
        <pebble-popover id="statesPopover" for="stateButton" auto-fit-on-attach no-overlap horizontal-align="right">
           <pebble-lov multi-select selected-items="{{selectedItems}}"  items="[[stateFilters]]"></pebble-lov>
        </pebble-popover>
        <rock-grid no-header data="{{data}}" config="{{config}}" ></rock-grid>

    </template>

    <script>
        (function () {
            'use strict';

            Polymer({
                is: 'rock-import-list',

                properties: {
                    stateFilters: {
                        type:Array,
                        value: function () {
                            return [
                                {
                                    "id": "completed",
                                    "title": "Completed"
                                },
                                {
                                        "id": "ongoing",
                                        "title": "Ongoing"
                                },
                                {
                                        "id": "pending",
                                        "title": "Pending"
                                }
                            ];
                        }
                    }

                },
                _onStateButtonTap:function () {
                    this.$$("#statesPopover").open();
                }
            });
        })();
    </script>

</dom-module>