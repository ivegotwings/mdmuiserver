<link rel="import" href="../../../../bower_components/polymer/polymer.html">

<link rel="import" href="../../pebble-styles-shared/pebble-styles-shared.html">

<!--
`<rock-sidebar>` Represents a sidebar layout structure inside rock-layout. 
This element is a child of `<rock-layout>` element.

For example:

    <rock-layout>
        <rock-header>
            sidebar content . . .
        </rock-header>
        main layout content . . .
    </rock-layout>

It can contian any elements or components.

@demo ../demo/index.html
-->

<dom-module id="rock-sidebar">
    <template>
        <style include="pebble-styles-shared"></style>
        <style>
            :host {
                display: flex;
                display: -webkit-flex; /* Safari */
                height: auto;
                width: 30%;
            }
            
            #rockSidebarContainer {
                height: 100%;
                width: 100%;
                white-space: normal;
                overflow: auto;
                border-left: thin solid #D8DDE4;
                font-size: var(--default-font-size, 14px);
            }
            
            @media only screen and (max-width: 768px) {
                :host {
                    width: 100%;
                }
            }
        </style>
        <div id="rockSidebarContainer">
            <slot></slot>
        </div>
    </template>
    <script>
        Polymer({
            is: 'rock-sidebar',
            properties: {
                /*
                * Indicates position of sidebar in rock-layout like, `left` or `right` 
                */
                position:{
                    type: String,
                    reflectToAttribute: true
                },
                
                /*
                * Indicates width of sidebar on layout screen.
                * It can be `half` or `quarter`.
                */
                width: {
                    type: String,
                    value: "quarter"
                }
            },
            attached: function() {
                var parentContainer = Polymer.dom(this).parentNode.$.container;
                
                if(this.position == "left")
                {
                    parentContainer.style.flexDirection = 'row-reverse';
                    this.$.rockSidebarContainer.style.borderRight = 'thin solid #D8DDE4';
                    this.$.rockSidebarContainer.style.borderLeft = 'none';
                }
                
                if(this.width){
                    if(this.width.toLowerCase() == 'half') {
                        this.style.width = "100%";
                    } else if (this.width.toLowerCase() == "quarter") {
                        this.style.width = "30%";
                    }
                }
            }
        });
    </script>
</dom-module>