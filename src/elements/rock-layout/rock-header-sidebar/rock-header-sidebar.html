<link rel="import" href="../../../../bower_components/polymer/polymer.html">

<link rel="import" href="../../pebble-styles-shared/pebble-styles-shared.html">

<!--
`<rock-header-sidebar>` Represents a sidebar inside rock-header. 
This element is a child element of `<rock-header>` element.

It can contian any elements or components.

### Accessibility

Position of `<rock-header-sidebar>` will be depending on two class `rock-header-right-sidebar` and `rock-header-left-sidebar`.

Where,
    
rock-header-right-sidebar : sidebar will be render on right side of header.

rock-header-left-sidebar : sidebar will be render on left side of header. 

For example:

    <rock-layout>
        <rock-header>
            <rock-header-sidebar class='rock-header-right-sidebar'>
                <div class='fixed-content'>
                    header's right sidebar content . . .
                </div>
            </rock-header-sidebar>
            header content . . .
        </rock-header>
        main layout content . . .
    </rock-layout>


It will inherit fixed and shrunk class accessibility of rock-header.

Defualt behavior, header-sidebar will get shrunk while scrolling of rock layout content.
for that '<rock-header-sidebar>' should contain it's all content in two divs with class name of each `fixed-content` and `shrunk-content`.
So when header is shrunk then div with class `shrunk-content` content will get render else div with class `fixed-content` will get render inside `<rock-header>`. 

For example:

    <rock-layout>
        <rock-header>
            <rock-header-sidebar class='rock-header-right-sidebar'>
                <div class='fixed-content'>
                    header's right sidebar fixed content . . .
                </div>
                <div class='shrunk-content'>
                    header's right sidebar shrunk content . . .
                </div>
            </rock-header-sidebar>
            header content . . .
        </rock-header>
        main layout content . . .
    </rock-layout>

If `<rock-header>` is frozen then it will same for `<rock-header-sidebar>`

@demo ../demo/index.html
-->

<dom-module id="rock-header-sidebar">
    <template>
        <style include="pebble-styles-shared"></style>
        <style>
            :host {
                box-sizing: border-box;
            }
            
            #rockHeaderSidebarContainer {
                min-height: 85px;
                height: auto;
                width: 225px;
                white-space: normal;
                overflow: hidden;
            }
            
            #fixedHeader,
            #shrunkHeader {
                display: inline-block;
            }
            
            @media only screen and (max-width: 768px) {
                #rockHeaderSidebarContainer {
                    width: auto;
                }
            }
        </style>
        <div id="rockHeaderSidebarContainer">
            <div id="fixedHeader">
                <content id="headerContent" select=".fixed-content"></content>
            </div>
            <div id="shrunkHeader">
                <content id="headerContent" select=".shrunk-content"></content>
            </div>
        </div>
    </template>
    <script>
        Polymer({
            is: 'rock-header-sidebar',
            ready: function() {
                if(Polymer.dom(this).parentNode.$.rightHeader.childElementCount == 1 && Polymer.dom(this).parentNode.$.leftHeader.childElementCount == 1)
                {
                    Polymer.dom(this).parentNode.$.fixedHeader.style.width = 'calc(100% - 550px)'; 
                    Polymer.dom(this).parentNode.$.shrunkHeader.style.width = 'calc(100% - 550px)'; 
                }
                else {
                    Polymer.dom(this).parentNode.$.fixedHeader.style.width = 'calc(100% - 225px)'; 
                    Polymer.dom(this).parentNode.$.shrunkHeader.style.width = 'calc(100% - 225px)'; 
                }
            }
        });
    </script>
</dom-module>