<link rel="import" href="../../../bower_components/polymer/polymer.html">
<link rel="import" href="../bedrock-style-manager/styles/bedrock-style-common.html">
<link rel="import" href="../bedrock-style-manager/styles/bedrock-styles-scroll-bar.html">
<link rel="import" href="../rock-footer/rock-footer.html">
<!--
`<rock-layout>` Represents a layout structure for developing an App. 
It exhibits as a simple plain layout with the combination of its child elements such as
 `<rock-titlebar>`, `<rock-header>`,  and `<rock-sidebar>`.

### Example

1. Simple layout:
        <rock-layout> 
            main layout content . . .
        </rock-layout>

2. Layout with the titlebar:
        <rock-layout>
            <rock-titlebar>
                titlebar content . . .
            </rock-titlebar>
            main layout content . . .
        </rock-layout>

3. Layout with the sidebar:
        <rock-layout>
            <rock-sidebar>
                sidebar content . . .
            </rock-sidebar>
            main layout content . . .
        </rock-layout>

4. Layout with the header:
        <rock-layout>
            <rock-header>
                header content . . .
            </rock-header>
            main layout content . . .
        </rock-layout>

5. Layout with the header, sidebar, and titlebar:
        <rock-layout>
            <rock-titlebar>
                titlebar content . . .
            </rock-titlebar>
            <rock-header>
                header content . . .
            </rock-header>
            <rock-sidebar>
                sidebar content . . .
            </rock-sidebar>
            main layout content . . .
        </rock-layout>

It can contain any elements or components.

@demo demo/index.html
-->
<dom-module id="rock-layout">
    <template>
        <style include="bedrock-style-common bedrock-styles-scroll-bar"></style>
        <style>
          
            #layoutContainer {
                width: 100%;
                /* TODO: this pushes the scrollbar a little down in manage app, have to fix*/
                height: calc(99.98% - 50px);
                display: -webkit-box;
                display: -webkit-flex;
                display: -ms-flexbox;
                display: flex;
                flex-direction: column;
                -webkit-flex-direction: column;
                justify-content: unset;
                -webkit-justify-content: unset;
            }
            
            /* Firefox specific fix for vertical scroll */
            @media all and (min--moz-device-pixel-ratio:0) and (min-resolution: 3e1dpcm) {          
                #layoutContainer { 
                    height: calc(100vh - 110px);
                    @apply --rock-layout-container;
                }
            }  
            
            /* IE edge specific fix for vertical scroll */
           _:-ms-lang(x), _:-webkit-full-screen, #layoutContainer { 
                    height: calc(100vh - 115px);
                    @apply --rock-layout-container;
            }

            #container {
                width: inherit;
                height: 100%;
                display: -webkit-box;
                display: -webkit-flex;
                display: -ms-flexbox;
                display: flex;
                flex-direction: row;
                -webkit-flex-direction: row;
            }
            
            #rockLayoutContainer {
                height: auto;
                width: 100%;
                white-space: normal;
                @apply --scroller;
                @apply --rock-layout-height;
            }

            #mainContent {
                height: 100%;
                width: 100%;
            }
            
            @media only screen and (max-width: 768px) {
                #container {
                    display: inline-block;
                }
                #rockLayoutContainer {
                    width: auto;
                    height: 100%;
                }
            }
        </style>
        <slot name="rock-titlebar"></slot>
        <div id="layoutContainer">
            <slot id="headerContent" name="rock-header"></slot>
            <div id="container">
                <div id="rockLayoutContainer">
                    <div id="mainContent" >
                        <slot></slot>
                    </div>                   
                </div>
                <slot id="sidebarContent" name="rock-sidebar"></slot>
            </div>             
        </div>
        <rock-footer></rock-footer>
    </template>
    <script>
        Polymer({
            is: 'rock-layout',
          
            properties: {

                /**
                 * Specifies whether or not a footer is shown on the layout.
                 */
                hideFooter: {
                    type: Boolean,
                    value: false
                }
            }
        });
    </script>
</dom-module>