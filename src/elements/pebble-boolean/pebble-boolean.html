<link rel="import" href="../../../bower_components/polymer/polymer.html">
<link rel="import" href="../../../bower_components/paper-button-group/paper-button-group.html">

<link rel="import" href="../pebble-styles-shared/pebble-styles-shared.html">
<link rel="import" href="../bedrock-ui-behavior/bedrock-ui-behavior.html">
<link rel="import" href="../bedrock-validator/bedrock-validator.html">

<!--
`pebble-boolean` Represents an element which displays and controls the boolean value. 
 They can contain values as true or false.  

### Styling

Custom property    | Description              | Default
-------------------|-------------|----------------------
`--pebble-boolean` | Mixin applied to pebble-boolean | `{}`
`--active-button-font-color` | Active button font color | #ffffff
`--pebble-boolean-true-bg-color` | Active true button background color | #4caf50
`--pebble-boolean-false-bg-color` | Active false button background color | #f44336
`--false-button-margin` | Margin for false button | `0 0 0 -5px`
`--boolean-btn-radius` | Boolean button radius | 4px
`--pebble-boolean-label` | Mixin applied to pebble-boolean label | {}

@group pebble Elements
@element pebble-boolean
@demo demo/index.html 
-->

<dom-module id="pebble-boolean">
  <template>
    <style is="custom-style" include="pebble-styles-shared">
        paper-button {
          padding: 0.5em 0.4em;
          border: 1px solid var(--palette-cloudy-blue, #cacaca);
          border-radius: 0px;
          height:30px;
          @apply(--pebble-boolean);      
        }

        paper-button[name=true][active] {
            color: var(--active-button-font-color, #ffffff);
            background-color: var(--button-bg-color, #09c021);    
            height:30px;    
        }

        paper-button[name=false][active] {
            color: var(--active-button-font-color, #ffffff);
            background-color: var(--palette-cloudy-blue, #c1cad4);
        }

        paper-button[name=false] {
          margin: var(--false-button-margin, 0 0 0 -5px);
          border-top-right-radius: var(--boolean-btn-radius, 4px);
          border-bottom-right-radius: var(--boolean-btn-radius, 4px);
        }

        paper-button[name=true] {      
          border-top-left-radius: var(--boolean-btn-radius, 4px);
          border-bottom-left-radius: var(--boolean-btn-radius, 4px);
          background-color:#fff;
        }

        #lblBoolean {
          margin: 5px;
          @apply(--pebble-boolean-label);
        }       
        .error  {
          color: var(--error-color);
          font-size: var(--font-size-sm, 12px);
          font-weight: var(--font-regular, 400);
          letter-spacing: 0.011em;
          line-height: 20px;
          width: 92%;
          word-wrap: break-word;
        }
    </style>
    <div id="booleanContainer">
      <div id="lblBoolean" aria-hidden="true">{{label}}</div>
      <paper-button-group aria-labelledby="lblBoolean" selected="{{value}}">
          <paper-button name="true">[[_isNullOrEmpty(trueText, 'TRUE')]]</paper-button>
          <paper-button name="false">[[_isNullOrEmpty(falseText, 'FALSE')]]</paper-button>              
      </paper-button-group>      
        <bedrock-validator  show-error="[[showError]]" validation-errors="{{validationErrors}}" input="[[value]]"  required="[[required]]"
                            invalid="{{invalid}}" error-message="{{errorMessage}}" type="[[validationType]]"
        ></bedrock-validator>
        <div class="error" ><span> {{errorMessage}}</span></div>
    </div>
  </template>

  <script>
    (function() {
      'use strict';

      Polymer({
        is: 'pebble-boolean',
        ready: function(){
        },
        properties: {
         
          /**
           * Indicates the title of the boolean control that is displayed in the UI.
           */
          label: {
            type: String,
            value: ""
          },
          
          /**
           * Indicates the current value selected for the boolean.
           * By default, it notifies the current value chosen.
           */
          value: {
            type: String,
            value: "",
            notify: true
          },

          /**
           * Indicates the true button text.
           */
          trueText: {
            type: String,
            value: "TRUE"
          },

          /**
           * Indicates the false button text.
           */
          falseText: {
            type: String,
            value: "FALSE"
          },
          /**
           * Indicates whether to mark the input as required or not.
           * Set the value as <b>true</b> to mark the input as required.
           */
          required:{
              type:Boolean,
              value:false
          },
          /**
           * Indicates whether to show the validation errors or not.
           * Set the value as <b>true</b> to show the validation errors.
           */
          showError:{
              type:Boolean,
              value:false
          }
        },
        behaviors: [
            RUFBehaviors.UIBehavior
        ],
        _isNullOrEmpty: function(val, fallbackVal) {
            return _.isNullOrEmpty(val, fallbackVal);
        }
      });
    })();
  </script>

</dom-module>