<!doctype html>
<html>
  <head>
    <title>rock-attribute-list demo</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, minimum-scale=1.0, initial-scale=1, user-scalable=yes">
    <script src="../../../../bower_components/webcomponentsjs/webcomponents-lite.js"></script>

    <link rel="import" href="../../../../bower_components/iron-demo-helpers/demo-pages-shared-styles.html">
    <link rel="import" href="../../../../bower_components/iron-demo-helpers/demo-snippet.html">

    <link rel="import" href="../rock-attribute-list.html">
    <link rel="import" href="../../../../bower_components/paper-button/paper-button.html">

    <link rel="import" href="../../bedrock-helpers/data-helper.html">

    <style is="custom-style" include="demo-pages-shared-styles">
      .demo.demo-snippet {
        overflow:visible;
      }
    </style>
  </head>
  <body>

    <div class="vertical-section-container centered" style="max-width:800px;">
      <h3>A rock-attribute-list</h3>
      <demo-snippet>
        <template>
          <paper-button id="modeButton1" raised class="colorful">VIEW MODE</paper-button>
          <paper-button id="showJSON1" raised class="colorful">SHOW JSON</paper-button>
          <rock-attribute-list name="rs-attribute-list" id="attributeList1" mode="edit"
          ></rock-attribute-list>
        </template>
      </demo-snippet>
    </div>
    <script>
      window.addEventListener('WebComponentsReady', function(e) {
        var list = document.querySelector("#attributeList1");
        var modeButton = document.querySelector("#modeButton1");
        var showJSONButton = document.querySelector("#showJSON1");
        //setup
        list.attributeModels = {
                "coreAttributes": {
                  "name": "coreAttributes",
                  "longName": "Core Attributes",
                  "productName": {
                    "name": "productName",
                    "longName": "Product Name",
                    "displayType": "textbox",
                    "required": true
                  },
                  "releaseDate": {
                    "name": "releaseDate",
                    "longName": "Date of Release",
                    "displayType": "date"
                  }
                },
                "webAttributes": {
                  "name": "webAttributes",
                  "longName": "Web Attributes",
                  "webTitle": {
                    "name": "webTitle",
                    "longName": "Web Title",
                    "displayType": "textarea",
                    "minLength": 10,
                    "maxLength": 50
                  },
                  "webDescription": {
                    "name": "webDescription",
                    "longName": "Web Description",
                    "displayType": "textarea",
                    "minLength": 20,
                    "maxLength": 100
                  },
                  "isWebEnabled": {
                    "name": "isWebEnabled",
                    "longName": "Web 11",
                    "displayType": "boolean",
                    "trueText": "Yes",
                    "falseText": "No"
                  }
                }
              };
        list.attributeValues = [
            {
              "name": "coreAttributes",
              "longName": "Core Attributes",
              "attributes": [
                {
                  "name": "productName",
                  "value": "Nivea Creme 400 Ml"
                },
                {
                  "name": "releaseDate",
                  "value": "10/10/2016"
                }
              ]
            },
            {
              "name": "webAttributes",
              "longName": "Web Attributes",
              "attributes": [
                {
                  "name": "webTitle",
                  "value": "Nivea Creme 400 Ml"
                },
                {
                  "name": "webDescription",
                  "value": "Founded in 1882 by pharmacist Carl Paul Beiersdorf , Nivea has come a long way! Today it is one of the global skin- and body-care giants that stands for quality beauty products that the millions trust in."
                },
                {
                  "name": "isWebEnabled",
                  "value": "true"
                }
              ]
            }
          ];
        modeButton.addEventListener('click', function(e) {
          list.mode = list.mode == "edit" ? "view" : "edit";
          modeButton.innerText = modeButton.innerText == "EDIT MODE" ? "VIEW MODE" : "EDIT MODE";
        });
        showJSONButton.addEventListener('click', function(i) {
          alert(JSON.stringify(list.attributeValues));
        });
      });
    </script>
  </body>
</html>
