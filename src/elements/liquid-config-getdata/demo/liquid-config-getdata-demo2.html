<link rel="import" href="../../../../bower_components/polymer/polymer.html">
<link rel="import" href="../liquid-config-getdata.html">

<dom-module id="liquid-config-getdata-demo2">
    <template>
        <liquid-config-getdata id="configGetData3" verbose operation="getconfigs" request-id="req1" request-data={{request}}
            on-response="_onConfigsGetResponse"></liquid-config-getdata>
    </template>
    <script>
        (function () {
            'use strict';

            Polymer({
                is: 'liquid-config-getdata-demo2',
                attached: function () {
                },
                properties: {
                    request: {
                        type: Object,
                        value: function () {
                            return {
                                "apps": [
                                    "app-entity-discovery"
                                ],
                                "tenantId": "t1",
                                "security": {
                                    "user": "user1",
                                    "role": "role1"
                                },
                                "ctx": [
                                    {
                                        "entityType": "nart",
                                        "list": "masterCatalog",
                                        "classification": "cat1",
                                        "relType": "crossSell",
                                        "locale": "any",
                                        "source": "any"
                                    }
                                ]
                            };
                        },
                        notify: true
                    },
                    configs: {
                        type: Object,
                        value: function () {
                            return {};
                        },
                        notify: true
                    }
                },
                generateRequest: function() {
                    this.$$('#configGetData3').generateRequest();
                },
                _onConfigsGetResponse: function (e) {
                    var configs = e.detail.response.content;
                    console.log('Received configs ', configs);
                }
            });
        })();
    </script>
</dom-module>