<link rel="import" href="../../../bower_components/polymer/polymer.html">


<dom-module id="rock-tag-item">
<script>
    /**
     * `bedrock-validator` validates user input against a specified validation condition.
     *
     * @demo demo/index.html
     */
    Polymer({
        is: 'bedrock-validator',

        properties: {
            input:{
                type: String,
                notify:true,
                observer: 'input_changed'
            },
            type:{
                type:String,
                notify:true
            },
            options:{
                type:Object
                //todo to be supported later if custom condition is required
            },
            isValid:{
                type:Boolean,
                value:false,
                notify:true
            },
            errorMessage:{
                type: String,
                notify:true
            },
            min:{
                type: Number,
                notify:true
            },
            max:{
                type: Number
            }
        },
        input_changed: function (input) {
           this.validate(input);
        },

        validate: function(input) {
            if(this.type=='required'){
                this.isValid=this.requiredValidator(input);
            } else if( this.type=='minLength'){
                this.isValid=this.minLengthValidator(input,this.min);
            } else if( this.type=='maxLength'){
                this.isValid=this.maxLengthValidator(input,this.max);
            } else if( this.type=='range'){
                this.isValid=this.numberRangeValidator(input,this.min,this.max);
            }
        },
        requiredValidator: function (input) {
            return (input !=undefined && input !="") ;
        },
        minLengthValidator: function (input,length) {
            return input.length>= length;
        },
        maxLengthValidator:function (input,length) {
            return input.length<= length;
        },
        numberRangeValidator: function (value,min,max) {
               return value>min && value< max;
        }

        




    });
</script>
</dom-module>