<!doctype html>

<html>

<head>
  <title>rock-relationship-grid tests</title>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, minimum-scale=1.0, initial-scale=1, user-scalable=yes">

  <script src="../../../../bower_components/web-component-tester/browser.js"></script>
  <script src="../../../../bower_components/iron-test-helpers/mock-interactions.js"></script>

  <link rel="import" href="../../../../bower_components/iron-test-helpers/iron-test-helpers.html">
  <link rel="import" href="../rock-relationship-grid.html">
</head>

<body>

  <test-fixture id="basic">
    <template>
      <rock-relationship-grid page-size="10" size="2"></rock-relationship-grid>
    </template>
  </test-fixture>

  <script>

      var entityData = {
        "id": "e2",
        "dataObjectInfo": {
          "dataObjectType": "product",
          "dataObjectDomain": "thing"
        },
        "systemInfo": {
          "tenantId": "t1"
        },
        "properties": {
          "source": "PLM",
          "createdByService": "entityservice",
          "createdBy": "jim",
          "createdDate": "2016-07-16T18:10:52.412-07:00",
          "modifiedByService": "entityservice",
          "modifiedBy": "user",
          "modifiedDate": "2016-07-16T18:33:52.412-07:00"
        },
        "tags": [
          "Shrug"
        ],
        "data": {
          "ctxInfo": [
            {
              "ctxGroup": {
                "list": "master"
              },
              "attributes": {
                "productName": {
                  "values": [
                    {
                      "value": "Toggle Shrug",
                      "source": "PLM",
                      "locale": "en-US"
                    }
                  ]
                },
                "copy": {
                  "values": [
                    {
                      "value": "This shrug will add warmth and sophistication for your evening out. Three-quarter sleeves make it a perfect match with any dress or shirt",
                      "source": "PLM",
                      "locale": "en-US"
                    },
                    {
                      "value": "Dieses Röckchen wird aus Wärme und Eleganz für Ihren Abend hinzuzufügen. Dreiviertel -Ärmeln machen es eine perfekte Übereinstimmung mit jedem Kleid oder Shirt",
                      "source": "translation.com",
                      "locale": "de-DE"
                    }
                  ]
                },
                "weight": {
                  "values": [
                    {
                      "value": "3",
                      "uom": "lb",
                      "source": "SAP",
                      "locale": "en-US"
                    }
                  ]
                },
                "launchDate": {
                  "values": [
                    {
                      "value": "2016-07-16T18:33:52.412-07:00",
                      "source": "PLM"
                    }
                  ]
                },
                "allergenInfo": {
                  "groups": [
                    {
                      "doesTradeItemCarryNutritionLabel": {
                        "values": [
                          {
                            "value": "true",
                            "source": "PLM",
                            "locale": "en-US"
                          }
                        ]
                      },
                      "tradeItemCubeMeasurement": {
                        "values": [
                          {
                            "value": "0.36",
                            "source": "PLM"
                          }
                        ]
                      }
                    },
                    {
                      "doesTradeItemCarryNutritionLabel": {
                        "values": [
                          {
                            "value": "false",
                            "source": "PLM",
                            "locale": "en-US"
                          }
                        ]
                      },
                      "tradeItemCubeMeasurement": {
                        "values": [
                          {
                            "value": "0.78",
                            "source": "PLM"
                          }
                        ]
                      }
                    }
                  ]
                }
              },
              "relationships": {
                "crosssell": [
                  {
                    "id": "rel1",
                    "direction": "both",
                    "source": "PLM",
                    "operation": "association",
                    "attributes": {
                      "status": {
                        "values": [
                          {
                            "value": "Active",
                            "source": "PLM",
                            "locale": "en-US"
                          }
                        ]
                      },
                      "quantity": {
                        "values": [
                          {
                            "value": "2",
                            "source": "PLM",
                            "locale": "en-US"
                          }
                        ]
                      },
                      "price in kit": {
                        "values": [
                          {
                            "value": "200",
                            "source": "PLM",
                            "locale": "en-US"
                          }
                        ]
                      }
                    },
                    "relToObject": {
                      "id": "e4",
                      "entityInfo": {
                        "entityType": "product",
                        "entityDomain": "thing"
                      },
                      "attributes": {
                        "price": {
                          "values": [
                            {
                              "value": "500",
                              "source": "PLM",
                              "locale": "en-US"
                            }
                          ]
                        },
                        "quality": {
                          "values": [
                            {
                              "value": "10",
                              "source": "PLM",
                              "locale": "en-US"
                            }
                          ]
                        }
                      }
                    }
                  },
                  {
                    "id": "rel2",
                    "direction": "both",
                    "source": "PLM",
                    "operation": "association",
                    "attributes": {
                      "status": {
                        "values": [
                          {
                            "value": "Active",
                            "source": "PLM",
                            "locale": "en-US"
                          }
                        ]
                      },
                      "quantity": {
                        "values": [
                          {
                            "value": "5",
                            "source": "PLM",
                            "locale": "en-US"
                          }
                        ]
                      },
                      "price in kit": {
                        "values": [
                          {
                            "value": "1000",
                            "source": "PLM",
                            "locale": "en-US"
                          }
                        ]
                      }
                    },
                    "relToObject": {
                      "id": "e5",
                      "entityInfo": {
                        "entityType": "product",
                        "entityDomain": "thing"
                      }
                    }
                  }
                ],
                "accessories": [
                  {
                    "id": "rel6",
                    "direction": "both",
                    "source": "PLM",
                    "operation": "association",
                    "relToObject": {
                      "id": "e6",
                      "entityInfo": {
                        "entityType": "product",
                        "entityDomain": "thing"
                      }
                    }
                  }
                ]
              }
            }
          ]
        }
      }
      
      var element;
      setup(function(){
         element = fixture('basic');
         element.data = entityData;
         
      });

      suite('rock-relationship-grid', function() {
      
        test('instantiating the grid element works', function(done) {
          flush(function(){
            assert.equal(element.is, 'rock-relationship-grid');
            done();
          });
          
        });

     });
    </script>
</body>

</html>