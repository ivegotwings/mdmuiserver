<link rel="import" href="../../../bower_components/polymer/polymer.html">

<link rel="import" href="../rock-tabs/rock-tabs.html">

<link rel="import" href="../bedrock-pubsub/bedrock-pubsub.html">
<link rel="import" href="../bedrock-component-context-behavior/bedrock-component-context-behavior.html">

<link rel="import" href="../pebble-styles-shared/pebble-styles-shared.html">


<!--
`rock-my-todos` Represents an element that displays the list of my-todos.

@demo demo/index.html
-->
<dom-module id="rock-my-todos">
    <style include="pebble-styles-shared">
        #rock-my-todos .widget-box {
            padding-bottom: 0 !important;
        }

        rock-tabs::shadow pebble-tab-group {
            margin-bottom: 20px;
        }

        rock-tabs::shadow pebble-tab-group pebble-tab {
            margin-left: 0;
        }
    </style>
    <template>
        <rock-tabs id="rock-my-todos-tabs" config="{{_tabConfig}}"></rock-tabs>
        <bedrock-pubsub event-name="component-creating" handler="_onComponentCreating"></bedrock-pubsub>
    </template>
    <script>
        (function () {
            'use strict';

            Polymer({

                is: 'rock-my-todos',

                properties: {
                    contextData: {
                        type: Object,
                        value: function () {
                            return {};
                        }
                    },

                    /**
                     * Indicates the configuration for the tabs.
                     */
                    _tabConfig: {
                        type: Object,
                        notify: true,
                        value: function () {
                            return {
                                "scrollable": false,
                                "tabItems": [{
                                        "name": "summary",
                                        "title": "Summary View",
                                        "enableDropdownMenu": false,
                                        "selected": true,
                                        "component": {
                                            "name": "my-todo-summary-list",
                                            "path": "/src/elements/rock-my-todos/child-elements/my-todo-summary-list.html",
                                            "properties": {

                                            }
                                        }
                                    },
                                    {
                                        "name": "detail",
                                        "title": "Detail View",
                                        "enableDropdownMenu": false,
                                        "component": {
                                            "name": "my-todo-detail-view-list",
                                            "path": "/src/elements/rock-my-todos/child-elements/my-todo-detail-view-list.html",
                                            "properties": {

                                            }
                                        }
                                    }
                                ]
                            }
                        }
                    }
                },

                behaviors: [
                    RUFBehaviors.UIBehavior,
                    RUFBehaviors.ComponentContextBehavior
                ],

                _onComponentCreating: function (e, detail, sender) {
                    var component = detail.data;

                    if (component.properties) {
                        component.properties['context-data'] = this.contextData;
                    }
                }

            });
        })();
    </script>
</dom-module>