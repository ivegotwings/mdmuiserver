<dom-module id="my-todo-summary">
    <template>
        <style include="shared-styles"></style>
        <style>
			.input-panel {
				width: 100%;
				@apply(--layout-horizontal);
				@apply(--layout-center);
			}

            .item-container{
                /*border: #D2D7DD 1px solid;*/
                border-radius: 3px;
                margin :1% 2%;
                border: #838D97 1px solid;
                color: #1A2028;
                height:70px;
                width:95%;
            }

            .content-div {
                width: 72%;
            }

            #circle {
                width: 18px;
                height: 18px;
                text-align:center;
                padding:10px;
                -moz-border-radius: 50%;
                -webkit-border-radius: 50%;
                border-radius: 50%;
                background: transparent;
                border: 1px solid black;
            }

            .border-left-1 {
                 background:#F9BCC9;
                 width:8px;
                 height:70px;
                 border-left-width: 8px!important;            }

            .border-left-2 {
                 background:#B8E1F7;
                 width:8px;
                 height:70px;
                 border-left-width: 8px!important;
            }

            .border-left-3 {
                 background:#C2E8C8;
                 width:8px;
                 height:70px;
                 border-left-width: 8px!important;
            }

            .empty-div {
                width:15px;
            }

            .to-do-name {
                font-weight: 500;
            }

            .last-div {
                //padding-right:10px;
            }

            .to-do-body {
                color:#838D97
            }
        </style>

        <div class="input-panel item-container" on-tap="_onTapEvent">
            <div class$="{{_computeClass(myTodo.status)}}"></div>
            <div class = "empty-div"></div>
            <div id="circle">[[myTodo.numberOfTasks]]</div>
            <div class = "empty-div"></div>
            <div class="content-div">
                <div class = "to-do-name">[[myTodo.name]]</div>
                <div class = "to-do-body">Workflow : [[myTodo.workflow]]</div>
            </div>
            <div class = "last-div to-do-body">
                <div>[[myTodo.unAssigned]] Unassigned</div>
                <div>[[myTodo.assignedToMe]] With Me</div>
            </div>
        </div>
    </template>

    <script>

  Polymer({

    is: 'my-todo-summary',

    properties: {

         /**
        * Fired when any of the my-todo is tapped in my-todo's widget with name: "rock-my-todo-click" and data is the data of the clicked my-todo
        *
        * @event bedrock-event
        */

        /**
         * myTodo represents the data
         */
        myTodo : {
            type : Object,
            notify: true,
             reflectToAttribute: true,
             value : {}
        }
    },

    /**
     *  This s internal function used to compute the class based on the status of my-todo
     */
    _computeClass : function(status) {
        if(status) {
            if(status == "red") {
                return 'border-left-1';
            } else if(status == "orange"){
                 return 'border-left-2';
            } else {
                return 'border-left-3';
            }
        }
         return 'border-left-3';
    },

    /**
     * This is internal function used to fire an rock-my-todo-click when my-todo element is tapped
     */
    _onTapEvent : function(e) {
        var eventData = {
                name : "rock-my-todo-click",
                data : this.myTodo
            }
            this.fire('bedrock-event',eventData)
    }
    });

</script>
</dom-module>