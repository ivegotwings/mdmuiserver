<link rel="import" href="../../../../bower_components/polymer/polymer.html">
<link rel="import" href="../../bedrock-ui-behavior/bedrock-ui-behavior.html">
<link rel="import" href="../../pebble-list-view/pebble-list-view.html">
<link rel="import" href="../../pebble-list-item/pebble-list-item.html">
<link rel="import" href="my-todo-summary.html">
<dom-module id="my-todo-summary-list">
    <template>
        <style include="pebble-styles-shared">
            .list-group {
                /*height: 490px;*/
                overflow-y: auto;
                /*padding: 0px 5px 0 0;*/
            }
            
            pebble-list-item:last-child .list-item{
                margin-bottom: 0!important;
            }
        </style>
        <pebble-list-view class="list-group column">
            <template is="dom-repeat" items="{{_getList()}}">
                <pebble-list-item>
                    <my-todo-summary my-todo="{{item}}"></my-todo-summary>
                </pebble-list-item>
            </template>
        </pebble-list-view>
        <!--<iron-ajax auto url="/src/data/my-todos-summary.json" handle-as="json" last-response="{{list}}"></iron-ajax>-->
    </template>
    <script>
        (function () {
            'use strict';

            Polymer({

                is: 'my-todo-summary-list',

                properties: {
                    /**
                     * This property represents the list of my-todos
                     */
                    list: {
                        type: Array,
                        notify: true,
                        value: []
                    }
                },

                behaviors: [
                    RUFBehaviors.UIBehavior
                ],

                _getList: function() {
                    if(this.list && this.list.length) {
                        return this.list;
                    } else {
                        return this.getParentAppConfig('my-todo-summary-list');
                    }
                }
            });
        })();

    </script>
</dom-module>