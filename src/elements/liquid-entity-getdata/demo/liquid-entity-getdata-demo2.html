<link rel="import" href="../../../../bower_components/polymer/polymer.html">
<link rel="import" href="../liquid-entity-getdata.html">

<dom-module id="liquid-entity-getdata-demo2">
  <template>
    <liquid-entity-getdata id="entityGetData2" log-internal-detail operation="initiatesearch" 
        request={{request}} response={{searchResponse}}></liquid-entity-getdata>
    <liquid-entity-getdata id="entityGetData3" log-internal-detail operation="getsearchresultdetail" 
        request={{request}} request-id="[[searchResponse.content.requestId]]"></liquid-entity-getdata>
  </template>
  <script>
    (function() {
      'use strict';

      Polymer({
        is: 'liquid-entity-getdata-demo2',
        properties: {
          request:{
            type: Object,
            value: function(){
              return {
                "data": {
                  "query": {
                    "ctx":[
                      {
                        "list":"fall2016",
                        "classification": "shoes"
                      },
                      {
                        "list":"master",
                        "classification": "shirts"
                      }
                    ],
                    "valCtx":[
                      {
                        "source":"cnet",
                        "locale":"en-US"
                      },
                      {
                        "source":"indix",
                        "locale":"en-US"
                      }
                    ],
                    "filters":{
                      "attributesCriterion":[],
                      "relationshipsCriterion":[],
                      "typesCriterion":["sku","style"]
                    }
                  },
                  "fields":{
                    "ctxTypes":[
                      "properties"
                    ],
                    "attributes":[
                      "launchDate",
                      "msrp"
                    ],
                    "relationships":["ALL"]
                  },
                  "options":{
                    "totalRecords":10,
                    "includeRequest":false
                  }
                }
              };
            }
          },
          searchResponse:{
            type: Object,
            value: undefined,
            notify: true
          }
        }
      });
    })();
  </script>
</dom-module>