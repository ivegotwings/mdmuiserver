<link rel="import" href="../../../bower_components/polymer/polymer.html">

<link rel="import" href="../../../bower_components/iron-icon/iron-icon.html">
<link rel="import" href="../../../bower_components/paper-tabs/paper-tabs.html">
<link rel="import" href="../../../bower_components/paper-icon-button/paper-icon-button.html">

<link rel="import" href="../../../bower_components/paper-menu/paper-menu.html">
<link rel="import" href="../../../bower_components/paper-item/paper-item.html">

<link rel="import" href="../../../bower_components/iron-dropdown/iron-dropdown.html">

<link rel="import" href="../pebble-tab/pebble-tab.html">

<dom-module id="pebble-tabs">
    <template>
        <paper-tabs selected="[[_isSelected(data.config.tabItems)]]" scrollable="[[_isScrollable(data.config.scrollable)]]">
            <template is="dom-repeat" items="[[data.config.tabItems]]" as="tabItem">

                <paper-tab id="[[tabItem.name]]" noink>
                        <!-- Below added style must be removed -->
                        <iron-icon icon="[[tabItem.icon]]" style="margin-right: 0.4em"></iron-icon>
                        [[tabItem.text]]
                        <paper-icon-button id="[[tabItem.name]]_[[_suffix.dropdownButton]]" icon="icons:more-vert" on-tap="toggle" style="margin-left: 0.4em">
                        </paper-icon-button>
                </paper-tab>

            </template>
        </paper-tabs>
    </template>
</dom-module>

<script>

    (function() {
      'use strict';

      Polymer({
        is: 'pebble-tabs',
        properties: {
            data: {
                type: Object
            },
        },

        ready: function() {
        },

        _isSelected: function(tabItems){
            if(tabItems != null && tabItems != undefined && tabItems.length > 0) {
                for(var tabItemIndex in tabItems){
                    if(tabItems[tabItemIndex].selected) {
                        return tabItemIndex;
                    }
                }
            }

            return "0"; // default selected tab
        },

        _isScrollable: function(isScrollable) {
            if(isScrollable) {
                return true;
            } else  {
                return false;
            }
        }
        
      });
    })();

</script>

<script>
        // <paper-tabs selected="[[_isSelected(data.config.tabItems)]]" scrollable="[[_isScrollable(data.config.scrollable)]]" >
        //     <template is="dom-repeat" items="[[data.config.tabItems]]" as="tabItem">
                
        //         <paper-tab id="[[tabItem.name]]" noink>
        //             <!-- Below added style must be removed -->
        //             <iron-icon icon="[[tabItem.icon]]" style="margin-right: 0.4em"></iron-icon>
        //             [[tabItem.text]]
        //             <paper-icon-button id="[[tabItem.name]]_[[_suffix.dropdownButton]]" icon="icons:more-vert" on-tap="toggle" style="margin-left: 0.4em">
        //             </paper-icon-button>
        //         </paper-tab>
                
        //         <iron-dropdown id="[[tabItem.name]]_[[_suffix.dropdown]]" opened="{{opened}}" focus-target="[[_dropdownContent]]">
        //             <paper-menu id="[[tabItem.name]]_[[_suffix.dropdownContent]]" class="dropdown-content">
        //                 <template is="dom-repeat" items="[[tabItem.menuItems]]" as="menuItem">
        //                     <paper-item>[[menuItem.text]]</paper-item>
        //                 </template>
        //             </paper-menu>
        //         </iron-dropdown>

        //     </template>
        // </paper-tabs>

        // <pebble-tab id="[[tabItem.name]]" noink>
        //             <!-- Below added style must be removed -->
        //             <div style="margin-right: 0.4em" class="tab-content">
        //                 <iron-icon icon="[[tabItem.icon]]" ></iron-icon>
        //                 [[tabItem.text]]
        //             </div>

        //             <paper-menu class="dropdown-content">
        //                 <template is="dom-repeat" items="[[tabItem.menuItems]]" as="menuItem">
        //                     <paper-item>[[menuItem.text]]</paper-item>
        //                 </template>
        //             </paper-menu>
        //         </pebble-tab>
</script>