<link rel="import" href="../../../bower_components/polymer/polymer.html">
<link rel="import" href="../../../bower_components/juicy-jsoneditor/juicy-jsoneditor.html">

<!-- josdejong/jsoneditor#104 workaround-->
<link rel="stylesheet" type="text/css" href="../../../bower_components/jsoneditor/dist/jsoneditor.min.css">

<link rel="import" href="../bedrock-style-manager/styles/bedrock-style-common.html">

<!--
`pebble-jsoneditor` Represents a JSON editor with an advanced functionality along with the material based styling.


The following custom properties are provided by the jsoneditor:

### Styling

Custom property | Description | Default
----------------|-------------|----------
`json`            | JSON file to be passed                                | `Empty`
`mode`            | Default Mode of the JSON File being displayed         | `tree`
`name`            | Name of JSON file to be displayed in the Json editor  | `Empty`
`indentation`     | Indentation in text mode and code mode                | `2`
`history`         | Provides funtionality such as undo, redo if enabled   | `true`
`search`          | Provides funtionality to search if enabled            | `true`

@group Pebble Elements
@element pebble-jsoneditor
@demo demo/index.html 
-->

<dom-module id="pebble-jsoneditor">
    <template>
        <style include="bedrock-style-common"></style>

         <juicy-jsoneditor
         json="{{json}}" mode="[[mode]]" modes="{{modes}}" name="[[name]]" search="[[search]]" 
         indentation="[[indentation]]" history="[[history]]">

        </juicy-jsoneditor>
          
    </template>

    <script>
        (function() {
            'use strict';

            Polymer({
                is: 'pebble-jsoneditor',
                //TODO: exception if behavior is used and the ruf-service-init is not on the page 
                //behaviors: [
                //  RUFBehaviors.Internationalization
                //],
                properties: {
          /**
            * <b><i>Content development is under progress... </b></i> 
            */
                    json: {
                        type: Object,
                        value: function() {
                            return {};
                        },
                        notify: true,
                        observer: "jsonChanged"
                    },
          /**
            * <b><i>Content development is under progress... </b></i> 
            */
                    mode: {
                        type: String,
                        value: "tree"
                    },
          /**
            * <b><i>Content development is under progress... </b></i> 
            */
                    modes: {
                        type: Array,
                        value: ['code', 'form', 'text', 'tree', 'view']
                    },
          /**
            * <b><i>Content development is under progress... </b></i> 
            */
                    name: {
                        type: String,
                        value: ""
                    },
          /**
            * <b><i>Content development is under progress... </b></i> 
            */
                    search: {
                        type: Boolean,
                        value: true
                    },
          /**
            * <b><i>Content development is under progress... </b></i> 
            */
                    indentation: {
                        type: String,
                        value: "2"
                    },
          /**
            * <b><i>Content development is under progress... </b></i> 
            */
                    history: {
                        type: Boolean,
                        value: true
                    }
                },
          /**
            * <b><i>Content development is under progress... </b></i> 
            */

                jsonChanged: function() {

                }
            });
        })();
    </script>

</dom-module>