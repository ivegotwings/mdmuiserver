<link rel="import" href="../../../bower_components/polymer/polymer.html">
<link rel="import" href="../bedrock-externalref-socketio/bedrock-externalref-socketio.html">

<script>

/*
`RUFBehaviors.NotificationManager` this will send notification to all user or specific user.
If app has to send some notification of any type to all user or some specific users then that app has been implemented this behavior.

Sample application for sending notification:

```html
<dom-module id="demo-app">
   <template>
   </template>
   <script>
      Polymer({
        is: "demo-app",

        behaviors: [
          RUFBehaviors.NotificationManager
        ],

        properties: {
          
        },
        myfunction: function() {
            this.sendMessageToAllUser("sent from client side NotificationManager . . . .");
        }
      });
   &lt;/script>
</dom-module>
```

* @demo demo/index.html
* @polymerBehavior RUFBehaviors.NotificationManager
*/

window.RUFBehaviors = window.RUFBehaviors || {};

RUFBehaviors.NotificationManager = {

    _clientSocket: null,
    attached: function() {
        this.init();
    },
    init: function() {
        if(window.globalFunctions && window.globalFunctions.getClientSocket)
        {
            this._clientSocket = window.globalFunctions.getClientSocket();
        }
    },
    sendMessageToAllUser: function(data) {
        if(this._clientSocket)
        {
            this._clientSocket.emit('send message', data, '');
        }
        else
        {
            throw new Error("could not found client socket.")
        }
    },
    sendMessageToSpecificUser: function(data, user) {
        if(this._clientSocket)
        {
            this._clientSocket.emit('send message', data, user);
        }
        else
        {
            throw new Error("could not found client socket.")
        }
    }

};

</script>