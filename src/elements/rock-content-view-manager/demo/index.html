<!doctype html>
<html>
  <head>
    <title>rock-content-view-manager demo</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, minimum-scale=1.0, initial-scale=1, user-scalable=yes">
    <script src="../../../../bower_components/webcomponentsjs/webcomponents-lite.js"></script>

    <link rel="import" href="../../../../bower_components/iron-demo-helpers/demo-pages-shared-styles.html">
    <link rel="import" href="../../../../bower_components/iron-demo-helpers/demo-snippet.html">
    <link rel="import" href="../../../../bower_components/paper-button/paper-button.html">

    <link rel="import" href="../../rock-content-view/rock-content-view.html">
    <link rel="import" href="../../pebble-textbox/pebble-textbox.html">

    <link rel="import" href="../rock-content-view-manager.html">

    <style is="custom-style" include="demo-pages-shared-styles">
    </style>
  </head>
  <body>
    <span id="browser-sync-binding"></span>
    <div class="vertical-section-container" style="flex: 0 0 100%;">
      <h3>Using with a RUF component</h3>
      <demo-snippet style="flex: 0 0 100%;">
        <template>
          <pebble-textbox id="txtViewName1"></pebble-textbox> 
          <paper-button id="btnOpen1" raised>Open</paper-button>
          <paper-button id="btnClose1" raised>Close</paper-button>
          <paper-button id="btnMinimize1" raised>Minimize</paper-button>
          <rock-content-view-manager id="ex1">            
          </rock-content-view-manager>
          <script>
            function showStack() {
              debugger;
              document.querySelector("#openStack1").innerHTML = document.querySelector("#ex1")._openStack;
              document.querySelector("#activeStack1").innerHTML = document.querySelector("#ex1")._activeStack;
              document.querySelector("#minimizeStack1").innerHTML = document.querySelector("#ex1")._minimizeStack;
            } 
            window.addEventListener('WebComponentsReady', function(e) {
              document.querySelector("#btnOpen1").addEventListener('click', function(e) {
                var viewName = document.querySelector("#txtViewName1").value;
                var manager = document.querySelector("#ex1")
                manager.openView(viewName,
                {
                  "title":"My App",
                  "component": {
                    "name": "pebble-textbox",	
                    "path": "../../pebble-textbox/pebble-textbox.html"
                  }
                }
                  
                );
                //showStack();
              });
              
              document.querySelector("#btnClose1").addEventListener('click', function(e) {
                var viewName = document.querySelector("#txtViewName1").value;
                document.querySelector("#ex1").closeView(viewName);
                //showStack();
              });
              document.querySelector("#btnMinimize1").addEventListener('click', function(e) {
                var viewName = document.querySelector("#txtViewName1").value;
                document.querySelector("#ex1").minimizeView(viewName);
                //showStack();
              });
              
            });
          </script>
        </template>
        
      </demo-snippet>
    </div>
      
  </body>
</html>
