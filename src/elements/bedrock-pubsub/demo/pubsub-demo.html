<link rel="import" href="../../../../bower_components/polymer/polymer.html">
<link rel="import" href="../../../../bower_components/iron-demo-helpers/demo-pages-shared-styles.html">
<link rel="import" href="../../../../bower_components/iron-demo-helpers/demo-snippet.html">
<link rel="import" href="../../../../bower_components/paper-button/paper-button.html">
<link rel="import" href="common-styles.html">
<link rel="import" href="../bedrock-pubsub.html">
<link rel="import" href="../../bedrock-ui-behavior/bedrock-ui-behavior.html">

<dom-module id="pubsub-demo">

    <template>
        <style include="common-styles"></style>
        <style include="demo-pages-shared-styles">
            
            paper-button {
                width: 50%;
                margin-bottom: 10px;
            }
            
            #button1 {
                background: gray;
            }
            
            #button1:hover {
                background: green;
            }
            
            #button2 {
                background: gray;
            }
            
            #button2:hover {
                background: red;
            }
            
            #eventInfo {
                margin-top: 30px;
            }
            
            .green {
                color: green;
            }
            
            .red {
                color: red;
            }
        </style>

<div class="vertical-section vertical-section-container centered">
    <h3> A bedrock-pubsub</h3>
    <h1>&lt;bedrock-pubsub&gt;</h1>
    <div class="snippet">
        <div class="demo">
            <paper-button id="button1" on-tap="_onButton1Click" raised>Button1</paper-button>
            <paper-button id="button2" on-tap="_onButton2Click" raised>Button2</paper-button>
        </div>
        <div class="code">
            <code>Event is raised by button clicks as below</code>
            <code>&lt;paper-button id="button1" on-tap="_onButton1Click" raised>Button1&lt;/paper-button></code>
            <code>&lt;paper-button id="button2" on-tap="_onButton2Click" raised>Button2&lt;/paper-button></code>
            </br>
            <code>Events can be handled outside as below</code>
            <code>&lt;bedrock-pubsub target-id="button1" event-name="event1" handler="demoEvent">&lt;/bedrock-pubsub></code>
            <code>&lt;bedrock-pubsub target-id="button2" event-name="event2" handler="demoEvent">&lt;/bedrock-pubsub></code>
        </div>
    </div>
    <div id="eventDetail" class$="{{className}}">
        <div>
            <code>demo-app</code> got a <span> {{eventInfo}}</span> <code>event</code>
        </div>
    </div>

</div>
</template>

<script>
    Polymer({
        is: "pubsub-demo",
        properties: {
            eventInfo: {
                type: String,
                value: "No"
            },
            className: {
                type: String,
                value: ""
            }

        },
        behaviors: [
            RUFBehaviors.UIBehavior
        ],
        _onButton1Click: function (e) {
            this.fireBedrockEvent("event1", { msg: "button1 click data!", cssClass: "green" });
        },
        _onButton2Click: function (e) {
            this.fireBedrockEvent("event2", { msg: "button2 click data!", cssClass: "red" });
        }
    });
</script>

</dom-module>