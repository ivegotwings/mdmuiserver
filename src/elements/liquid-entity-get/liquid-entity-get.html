<link rel="import" href="../../../bower_components/polymer/polymer.html">

<!--
`liquid-entity-get`
Boolean control

@demo demo/index.html 
-->

<dom-module id="liquid-entity-get">
  <template>
  </template>

  <script>
    (function () {
      'use strict';

      Polymer({
        is: 'liquid-entity-get',
        attached: function () {
          //console.log("service attached");
          //this._makeServiceCall(this.request);
        },
        properties: {
          request: {
            type: Object,
            value: function () {
              return {};
            }
          },
          response: {
            type: Object,
            value: function () {
              return {};
            },
            notify: true
          }
        },
        observers: [
          '_makeServiceCall(request)'
        ],
        _makeServiceCall: function (request) {
          //make service call and return the response
          //console.log("_makeServiceCall");
          if (request && request.action == "getAttributes") {
            var attributes = {
              returnValue: {
                attributes: {
                  "externalId": {
                    "values": [
                      {
                        "value": "68933"
                      }
                    ]
                  },
                  "description": {
                    "values": [
                      {
                        "value": "PMSKU2\r\n55"
                      }
                    ]
                  },
                  "webDescription": {
                    "values": [
                      {
                        "value": "without locale"
                      },
                      {
                        "value": "Founded in 1882 by pharmacist Carl Paul Beiersdorf , Nivea has come a long way! Today it is one of the global skin- and body-care giants that stands for quality beauty products that the millions trust in.",
                        "locale": "en-US"
                      },
                      {
                        "locale": "de-DE",
                        "value": "Gegründet 1882 von Apotheker Carl Paul Beiersdorf, hat Nivea einen langen Weg zurückgelegt! Heute gehört sie zu den globalen Haut- und Körperpflege-Giganten, die für hochwertige Beautyprodukte stehen, auf die die Millionen vertrauen."
                      },
                      {
                        "locale": "hi-IN",
                        "value": "फार्मासिस्ट कार्ल पॉल Beiersdorf द्वारा 1882 में स्थापित, Nivea एक लंबा सफर तय किया है! आज यह वैश्विक शरीर की देखभाल दिग्गजों है कि गुणवत्ता सौंदर्य उत्पादों है कि लाखों लोगों में विश्वास के लिए खड़ा है में से एक है।"
                      }
                    ]
                  },
                  "mdmId": {
                    "values": [
                      {
                        "value": "5555"
                      }
                    ]
                  },
                  "modelNumber": {
                    "values": [
                      {
                        "value": "__deleted__"
                      }
                    ]
                  },
                  "productName": {
                    "values": [
                      {
                        "value": "Nivea Creme 400 Ml"
                      }
                    ]
                  },
                  "productName1": {
                    "values": [
                      {
                        "value": "Nivea Creme 400 Ml"
                      }
                    ]
                  },
                  "productName2": {
                    "values": [
                      {
                        "value": "Nivea Creme 400 Ml"
                      }
                    ]
                  },
                  "productName3": {
                    "values": [
                      {
                        "value": "Nivea Creme 400 Ml"
                      }
                    ]
                  },
                  "productName4": {
                    "values": [
                      {
                        "value": "Nivea Creme 400 Ml"
                      }
                    ]
                  },
                  "webTitle": {
                    "values": [
                      {
                        "value": "Nivea Creme 400 Ml"
                      }
                    ]
                  },
                  "webTitle1": {
                    "values": [
                      {
                        "value": "Nivea Creme 400 Ml"
                      }
                    ]
                  },
                  "webTitle2": {
                    "values": [
                      {
                        "value": "Nivea Creme 400 Ml"
                      }
                    ]
                  },
                  "webTitle3": {
                    "values": [
                      {
                        "value": "Nivea Creme 400 Ml"
                      }
                    ]
                  },
                  "webTitle4": {
                    "values": [
                      {
                        "value": "Nivea Creme 400 Ml"
                      }
                    ]
                  },
                  "productType": {
                    "values": [
                      {
                        "value": "Moisturizers"
                      }
                    ]
                  },
                  "color": {
                    "values": [
                      {
                        "value": "Red"
                      }
                    ]
                  },
                  "size": {
                    "values": [
                      {
                        "value": "L"
                      }
                    ]
                  },
                  "features": {
                    "values": [
                      {
                        "value": "feature 1"
                      },
                      {
                        "value": "feature 2"
                      },
                      {
                        "value": "feature 3"
                      }
                    ]
                  },
                  "applicableDoses": {
                    "values": [
                      {
                        "value": 10
                      },
                      {
                        "value": 20
                      },
                      {
                        "value": 30
                      },
                      {
                        "value": 40
                      }
                    ]
                  },
                  "price": {
                    "values": [
                      {
                        "value": "123,56",
                        "uom": "$"
                      }
                    ]
                  },
                  "isWebEnabled": {
                    "values": [
                      {
                        "value": "yes"
                      }
                    ]
                  },
                  "address": {
                    "shipping_address": {
                      "addressType": "shipping_address",
                      "city": "Houston",
                      "state": "Texas",
                      "zipCode": 77063
                    },
                    "billing_address": {
                      "addressType": "billing_address",
                      "city": "New York",
                      "state": "New York",
                      "zipCode": 11011
                    }
                  }
                }
              }
            };
            this.response = attributes;
          }
          else if (request && request.action == "getAttributeModels") {
            var a = {
              "returnValue": {
                "attributeModels": {
                  "coreAttributes": {
                    "name": "coreAttributes",
                    "longName": "Core Attributes",
                    "cpimProductName": {
                      "name": "cpimProductName",
                      "longName": "Product Name",
                      "displayType": "textbox",
                      "required": true
                    },
                    "csapDescriptionOfNart": {
                      "name": "csapDescriptionOfNart",
                      "longName": "Description of Nart",
                      "displayType": "textbox",
                      "minLength": 5,
                      "required": true
                    },
                    "csapGenderDescriptionType": {
                      "name": "csapGenderDescriptionType",
                      "longName": "Date Time Sample",
                      "displayType": "datetime"
                    },
                    "csapGender": {
                      "name": "csapGender",
                      "longName": "Date of Release",
                      "displayType": "date"
                    }
                  },
                  "webAttributes": {
                    "name": "webAttributes",
                    "longName": "Web Attributes",
                    "cpimWebsiteEmotionalDescription": {
                      "name": "cpimWebsiteEmotionalDescription",
                      "longName": "Website Emotional Description",
                      "displayType": "textbox",
                      "minLength": 10
                    },
                    "cpimShortDescription": {
                      "name": "cpimShortDescription",
                      "longName": "Short Description",
                      "displayType": "textarea",
                      "minLength": 10,
                      "maxLength": 50
                    },
                    "cpimLongDescription": {
                      "name": "cpimLongDescription",
                      "longName": "Long Description",
                      "displayType": "textarea",
                      "minLength": 20,
                      "maxLength": 100
                    },
                    "cpimWarningText": {
                      "name": "cpimWarningText",
                      "longName": "Warning Text",
                      "displayType": "textarea"
                    },
                    "cpimConsumerNeed": {
                      "name": "cpimConsumerNeed",
                      "longName": "Consumer Need",
                      "displayType": "textbox"
                    },
                    "cpimCustomerWishDateOfDelivery": {
                      "name": "cpimCustomerWishDateOfDelivery",
                      "longName": "Customer Wish Date of Delivery",
                      "displayType": "textbox"
                    },
                    "cpimGiftWrapping": {
                      "name": "cpimGiftWrapping",
                      "longName": "Gift Wrapping",
                      "displayType": "boolean"
                    },
                    "cpimBacksideText": {
                      "name": "cpimBacksideText",
                      "longName": "Backside Text",
                      "displayType": "textbox"
                    },
                    "cpimFrontsideText": {
                      "name": "cpimFrontsideText",
                      "longName": "Front Text",
                      "displayType": "textbox"
                    },
                    "cpimInciText": {
                      "name": "cpimInciText",
                      "longName": "Inci Text",
                      "displayType": "textarea"
                    }
                  },
                  "logisticsSupplyChain": {
                    "name": "logisticsSupplyChain",
                    "longName": "Logistics & Supply Chain",
                    "csapPropellantQuantity": {
                      "name": "csapPropellantQuantity",
                      "longName": "Propellant Quantity",
                      "displayType": "textbox"
                    },
                    "csapDangerousGoods": {
                      "name": "csapDangerousGoods",
                      "longName": "Dangerous Goods",
                      "displayType": "textbox"
                    },
                    "csapDangerousGoodsDescription": {
                      "name": "csapDangerousGoodsDescription",
                      "longName": "Dangerous Goods Description",
                      "displayType": "textarea"
                    },
                    "csapExpirationDatedProduct": {
                      "name": "csapExpirationDatedProduct",
                      "longName": "Expiration Dated Product",
                      "displayType": "boolean"
                    },
                    "csapFranchiseRangeDescriptiont": {
                      "name": "csapFranchiseRangeDescriptiont",
                      "longName": "Franchise Range Description",
                      "displayType": "textbox"
                    },
                    "csapFranchiseRanges": {
                      "name": "csapFranchiseRanges",
                      "longName": "Franchise Ranges",
                      "displayType": "textbox"
                    },
                    "csapChangenumberDescription": {
                      "name": "csapChangenumberDescription",
                      "longName": "Changenumber Description",
                      "displayType": "textbox"
                    },
                    "csapExtremelyFlammableQuantity": {
                      "name": "csapExtremelyFlammableQuantity",
                      "longName": "Extremely Flammable Quantity",
                      "displayType": "textbox"
                    }
                  },
                  "merchandising": {
                    "name": "merchandising",
                    "longName": "Merchandising",
                    "csapMaterialCluster": {
                      "name": "csapMaterialCluster",
                      "longName": "Material Cluster",
                      "displayType": "textbox"
                    },
                    "csapMaterialClusterDescription": {
                      "name": "csapMaterialClusterDescription",
                      "longName": "Material Cluster Description",
                      "displayType": "textbox"
                    },
                    "csapMaterialStatusGlobal": {
                      "name": "csapMaterialStatusGlobal",
                      "longName": "Material Status Global",
                      "displayType": "dropdown",
                      "allowedValues": "A/NART Active, I/NART Inactive"
                    },
                    "csapSubProcessCluster": {
                      "name": "csapSubProcessCluster",
                      "longName": "SubProcess Cluster",
                      "displayType": "textbox"
                    },
                    "csapApplicationFormsKey": {
                      "name": "csapApplicationFormsKey",
                      "longName": "Application Forms Key",
                      "displayType": "textbox"
                    },
                    "csapApplicationForms": {
                      "name": "csapApplicationForms",
                      "longName": "Application Forms",
                      "displayType": "textbox"
                    },
                    "csapApplicationFormsDescription": {
                      "name": "csapApplicationFormsDescription",
                      "longName": "Application Forms Description",
                      "displayType": "textbox"
                    },
                    "csapNartDescription": {
                      "name": "csapNartDescription",
                      "longName": "NART Description",
                      "displayType": "textarea"
                    },
                    "csapDescriptionPgr": {
                      "name": "csapDescriptionPgr",
                      "longName": "PGR Description",
                      "displayType": "textbox"
                    },
                    "cpimSkinType": {
                      "name": "cpimSkinType",
                      "longName": "Skin Type",
                      "displayType": "textbox"
                    }
                  },
                  "relationship": {
                    "name": "relationshipAttributes",
                    "longName": "Relationship Attributes",
                    "rpimIsMaster": {
                      "name": "rpimIsMaster",
                      "longName": "Is Master",
                      "displayType": "boolean"
                    }
                  }
                }
              }
            };
            var f = {
              "returnValue": {
                "attributeModels": {}
              }
            };
            if (request.attributeGroups) {
              for (var i = 0; i < request.attributeGroups.length; i++) {
                var groupName = request.attributeGroups[i];
                if (a.returnValue.attributeModels[groupName]) {
                  f.returnValue.attributeModels[groupName] = a.returnValue.attributeModels[groupName];
                }
              }
            }
            else if(request.attributeNames) {
              for(var attributeGroupName in a.returnValue.attributeModels) {
                for(var i=0; i < request.attributeNames.length; i++) {
                  var attributeName = request.attributeNames[i];
                  if (a.returnValue.attributeModels[attributeGroupName] && a.returnValue.attributeModels[attributeGroupName][attributeName]) {
                    if(f.returnValue.attributeModels[attributeGroupName]) {
                        f.returnValue.attributeModels[attributeGroupName][attributeName] = a.returnValue.attributeModels[attributeGroupName][attributeName];
                      }
                    else {
                      f.returnValue.attributeModels[attributeGroupName] = {"name": attributeGroupName, "longName": a.returnValue.attributeModels[attributeGroupName].longName};
                      f.returnValue.attributeModels[attributeGroupName][attributeName] = a.returnValue.attributeModels[attributeGroupName][attributeName];
                    }
                  }
                }
              }
            }
            else {
              f = a;
            }
            this.response = f;
          }
          else if (request && request.action == "getHeaderAttribute") {
            var headerAttributes = {
              returnValue: {
                attributes: {
                  "brand": {
                    "values": [
                      {
                        "value": "Aquaphor"
                      }
                    ]
                  },
                  "alternativeTaxonomy": {
                    "values": [
                      {
                        "value": "Makeup>>Face>>Foundation"
                      }
                    ]
                  },
                  "salesPrice": {
                    "values": [
                      {
                        "value": "$29.50"
                      }
                    ]
                  },
                  "category": {
                    "values": [
                      {
                        "value": "Skin care>>Moisturizers"
                      }
                    ]
                  },
                  "vendorCost": {
                    "values": [
                      {
                        "value": "$17.25"
                      }
                    ]
                  },
                  "status": {
                    "values": [
                      {
                        "value": "Active"
                      }
                    ]
                  }
                }
              }
            };
            this.response = headerAttributes;
          }
          else if (request && request.action == "getHeaderAttributeModels") {
            var k = {
              "returnValue": {
                "attributeModels": {
                  "coreAttributes": {
                    "name": "coreAttributes",
                    "longName": "Core Attributes",
                    "cpimProductName": {
                      "name": "cpimProductName",
                      "longName": "Product Name" 
                    },
                    "csapDescriptionOfNart": {
                      "name": "csapDescriptionOfNart",
                      "longName": "Description of Nart"
                    }
                  },
                  "webAttributes": {
                    "name": "webAttributes",
                    "longName": "Web Attributes",
                    "cpimShortDescription": {
                      "name": "cpimShortDescription",
                      "longName": "Description"
                    },
                    "cpimGiftWrapping": {
                      "name": "cpimGiftWrapping",
                      "longName": "Gift Wrapping"
                    },
                    "csapMaterialStatusGlobal": {
                      "name": "csapMaterialStatusGlobal",
                      "longName": "Material Status"
                    },
                    "cpimSkinType": {
                       "name": "cpimSkinType",
                       "longName": "Skin Type"
                    }
                  }
                }
              }
            };
            var j = {
              "returnValue": {
                "attributeModels": {}
              }
            };
            if(request.attributeNames) {
              for(var attributeGroupName in k.returnValue.attributeModels) {
                for(var i=0; i < request.attributeNames.length; i++) {
                  var attributeName = request.attributeNames[i];
                  if (k.returnValue.attributeModels[attributeGroupName] && k.returnValue.attributeModels[attributeGroupName][attributeName]) {
                    if(j.returnValue.attributeModels[attributeGroupName]) {
                        j.returnValue.attributeModels[attributeGroupName][attributeName] = k.returnValue.attributeModels[attributeGroupName][attributeName];
                      }
                    else {
                      j.returnValue.attributeModels[attributeGroupName] = {"name": attributeGroupName, "longName": k.returnValue.attributeModels[attributeGroupName].longName};
                      j.returnValue.attributeModels[attributeGroupName][attributeName] = k.returnValue.attributeModels[attributeGroupName][attributeName];
                    }
                  }
                }
              }
            }
            else {
              j = k;
            }
            this.response = j;
          }
        }
      });
    })();
  </script>

</dom-module>