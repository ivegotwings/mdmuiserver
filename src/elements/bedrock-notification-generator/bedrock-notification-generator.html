<link rel="import" href="../../../bower_components/polymer/polymer.html">
<link rel="import" href="../bedrock-externalref-socketio/bedrock-externalref-socketio.html">

<script>

/*
`RUFBehaviors.NotificationManager` either sends the notification to all the users or a specific user.
An App must implement this behavior if it has to send some notifications of any 
type to all users or some specific users.

### Example

```html
<dom-module id="demo-app">
   <template>
   </template>
   <script>
      Polymer({
        is: "demo-app",

        behaviors: [
          RUFBehaviors.NotificationManager
        ],

        properties: {
          
        },
        myfunction: function() {
            this.sendMessageToAllUser("sent from client side NotificationManager . . . .");
        }
      });
   &lt;/script>
</dom-module>
```

* @demo demo/index.html
* @polymerBehavior RUFBehaviors.NotificationGenerator
*/

window.RUFBehaviors = window.RUFBehaviors || {};

RUFBehaviors.NotificationGenerator = {

    _clientSocket: null,
          /**
            * Content is not appearing - Content development is under progress. 
            */
    attached: function() {
        this.init();
    },
          /**
            * Content is not appearing - Content development is under progress. 
            */
    init: function() {
        if(window.globalFunctions && window.globalFunctions.getClientSocket)
        {
            this._clientSocket = window.globalFunctions.getClientSocket();
        }
    },
          /**
            * Content is not appearing - Content development is under progress. 
            */
    sendMessageToAllUser: function(data) {
        if(this._clientSocket)
        {
            this._clientSocket.emit('send message', data, '');
        }
        else
        {
            throw new Error("could not found client socket.")
        }
    },
          /**
            * Content is not appearing - Content development is under progress. 
            */
    sendMessageToSpecificUser: function(data, user) {
        if(this._clientSocket)
        {
            this._clientSocket.emit('send message', data, user);
        }
        else
        {
            throw new Error("could not found client socket.")
        }
    }

};

</script>