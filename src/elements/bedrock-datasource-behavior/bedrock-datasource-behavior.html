<script>
    /***
     * `RUFBehaviors.DataSourceBehavior` provides common properties and methods that need to be implemented across all
     *  dataSource components. It is a mandatory behavior for all datasource components to implement.
     *
     * `RUFBehaviors.DataSourceBehavior` has multiple properties that can be used to provide request object, datasource and formatter methods.
     *
     *  ### Example
     *
     *     <dom-module id="x-datasource">
     *        <template>
     *        </template>
     *        <script>
     *           Polymer({
     *             is: ""x-datasource",
     *
     *             behaviors: [
     *               RUFBehaviors.DataSourceBehavior
     *             ],
     *
     *             properties: {
     *              
     *             }
     *           });
     *        &lt;/script>
     *     </dom-module>
     *
     * @polymerBehavior RUFBehaviors.DataSourceBehavior
     */

    window.RUFBehaviors = window.RUFBehaviors || {};
    RUFBehaviors.DataSourceBehavior = {

        properties: {
            /**
             * Indicates an external data source which is binded to the `rock-grid` for loading the data.
             * The format for external data source and how to pass it is given in the above description.
             **/
            dataSource: {
                value: function () {
                    return {}
                },
                notify: true
            },
            /**
             * Specifies the request Object to initiate the search.
             */
            request: {
                type: Object,
                value: function () {
                    return {};
                }
            },
            /**
             * Indicates call back function where if user has given any liquid operation and request object to load data
             * user has to transform data based on their grid config and return array of records.
             */
            dataFormatter: {
                type: Object,
                value: function () {
                    return {};
                },
                notify: true
            },
            /*
             * Indicates callback function which will used to pass attributes criteria at the time of making liquid call 
             */
            attributesCriterionBuilder: {
                type: Object,
                value: function () {
                    return {};
                }
            }
        },
        /*
         * Indicates a utility method which the user can use to attach listener to an event raised by an element
         * This listener will be invoked only for one time
         */
        _oneTimeEvent: function (element, type, callback) {
            element.addEventListener(type, function (e) {
                e.target.removeEventListener(e.type, arguments.callee);
                return callback(e);
            });
        }
    };
</script>