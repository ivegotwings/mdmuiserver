<script>
    /***
     * `RUFBehaviors.DataSourceBehavior` provides common properties and methods that need to be implemented across all
     * elements and components. It is a mandatory behavior for all elements and components to implement.
     *
     * `RUFBehaviors.DataSourceBehavior` has multiple properties that can be used in the context flow, authentication, and configuration.
     *
     *  ### Example
     *
     *     <dom-module id="x-app">
     *        <template>
     *        </template>
     *        <script>
     *           Polymer({
     *             is: "x-app",
     *
     *             behaviors: [
     *               RUFBehaviors.DataSourceBehavior
     *             ],
     *
     *             properties: {
     *              
     *             }
     *           });
     *        &lt;/script>
     *     </dom-module>
     *
     * @polymerBehavior RUFBehaviors.DataSourceBehavior
     */

    window.RUFBehaviors = window.RUFBehaviors || {};
    RUFBehaviors.DataSourceBehavior = {

        properties: {
            /**
             * Indicates an external data source which is binded to the `rock-grid` for loading the data.
             * The format for external data source and how to pass it is given in the above description.
             **/
            dataSource: {
                notify: true,
                value: function () {
                    return {}
                }
            },

            /**
             * Specifies the request Object to initiate the search.
             */
            request: {
                type: Object,
                value: function () {
                    return {};
                }
            },

            /**
             * Indicates call back function where if user has given any liquid operation and request object to load data
             * user has to transform data based on their grid config and return array of records.
             */
            dataFormatter: {
                type: Object,
                value: function () {
                    return {};
                },
                notify: true
            },

            attributesCriterionBuilder: {
                type: Object,
                value: function () {
                    return {};
                }
            }
        },

        _oneTimeEvent: function (element, type, callback) {
            element.addEventListener(type, function (e) {
                e.target.removeEventListener(e.type, arguments.callee);
                return callback(e);
            });
        }
    };
</script>