<link rel="import" href="../../../bower_components/polymer/polymer.html">
<link rel="import" href="../bedrock-style-manager/styles/bedrock-style-common.html">
<link rel="import" href="../bedrock-style-manager/styles/bedrock-style-gridsystem.html" />

<link rel="import" href="../pebble-dialog/pebble-dialog.html">
<link rel="import" href="../pebble-icon/pebble-icon.html">
<link rel="import" href="../pebble-dropdown/pebble-dropdown.html">


<dom-module id="rock-log-service-item">
  <template>
      <style include="bedrock-style-common bedrock-style-gridsystem">
         :host {
          margin-bottom: 2px;
          width: 100%;
        }
        #statusIcon, .descriptipn-title, #logger-container {
          float: left;
        }
        #logger-container, .descriptipn-title {
          width: 240px;
        }
        .status-title {
          display: flex;
          align-items: center;
        }
        .statusRow {
          margin-left: 16px;
        }
      </style>
    <div class="statusRow">
      <div class="status-title-wrap">
        <div class="status-title">
          <pebble-icon icon="pebble-icon:time" id="statusIcon" class="pebble-icon-size-16"></pebble-icon>
          <div data-tooltip$="{{item.title}}" class="tooltip-bottom">
            <span class="m-l-10 descriptipn-title text-ellipsis">{{item.title}}</span>
          </div>
          <span id="logger-container" class="m-l-10">
            <pebble-dropdown id="logger-dropdown" label="Level" items="[[logger]]" selected-value="{{selectedValue}}"></pebble-dropdown>
          </span>
          <div class="clearfix"></div>
        </div>     
      </div>   
    </div>
  </template>
  <script>
    Polymer({
      is: 'rock-log-service-item',
      properties: {
        item:{
            type:Object
        },
        logger:{
            type:Array,
            value:[{
                      "value":"trace",
                      "title":"trace"
                    }, 
                    {
                      "value":"debug",
                      "title":"debug"
                    }, 
                    {
                      "value":"info",
                      "title":"info"
                    }, 
                    {
                      "value":"warn",
                      "title":"warn"
                    }, 
                    {
                      "value":"error",
                      "title":"error"
                    }, 
                    {
                      "value":"fatal",
                      "title":"fatal"
                    }]
        },
        selectedValue:{
            type: String,
            value: ""
        }
      },
      observers:[
        'onDropdownValueChange(selectedValue)'
      ],
      onDropdownValueChange:function(){
        this.set("item.level", this.selectedValue);
      }

    });
  </script>
</dom-module>