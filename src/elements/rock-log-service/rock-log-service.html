<link rel="import" href="../../../bower_components/polymer/polymer.html">
<link rel="import" href="../../../bower_components/iron-flex-layout/iron-flex-layout-classes.html">
<link rel="import" href="../pebble-styles-shared/pebble-styles-shared.html">
<link rel="import" href="../pebble-styles-app/pebble-styles-app.html">
<link rel="import" href="../pebble-button/pebble-button.html">
<link rel="import" href="rock-log-service-item.html">

<dom-module id="rock-log-service">
  <template>
    <custom-style>
      <style include="pebble-styles-shared">
        .block {
          padding: 0 20px;
        }

        .iconButton {
          --iron-icon: {
            margin-top: 0!important;
            margin-right: 0!important;
            margin-bottom: 0!important;
            margin-left: 0!important;
          }
        }
        .btn {
          --pebble-button:{
              min-width:38px !important;
        }
      }
      </style>
    </custom-style>
    <div class="block">
      <template id="loggerListTemplate" is="dom-repeat" items="[[loggerArray]]">
        <rock-log-service-item item="[[item]]" selected-value="item.level">
        </rock-log-service-item>
      </template>
      <pebble-button id="statusIcon" class="btn btn-primary m-b-10"  button-text="Save"
        on-click="_handleSave"></pebble-button>
    </div>
  </template>
  <script>
    Polymer({
      is: 'rock-log-service',
      properties:{
        loggerObj:{
          type:Object
        },
        loggerArray:{
          type:Array,
          value:function(){
            return [];
          }
        }
      },
      observers:[
        'loggerObjObserver(loggerObj)'
        ],
      loggerObjObserver: function () {
        var arr=[];
        for(var key in this.loggerObj){
	        arr.push({title:key, level:this.loggerObj[key].level});
        }
        this.set("loggerArray",arr);
      },
      _handleSave:function(){
          //todo need to handle save functionality
      }

    });
  </script>
</dom-module>