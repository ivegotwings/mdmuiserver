<link rel="import" href="../../../bower_components/polymer/polymer.html">
<link rel="import" href="../../../bower_components/polymer/lib/elements/custom-style.html">

<link rel="import" href="../bedrock-component-context-behavior/bedrock-component-context-behavior.html">

<link rel="import" href="../rock-widget-panel/rock-widget-panel.html">

<link rel="import" href="../pebble-styles-shared/pebble-styles-shared.html">

<!--
`<rock-entity-summary>` Represents an element that renders the widgets 
such as "to-do" and "to-fix" for an entity.

### Example

    <template is="dom-bind" id="demo-app">				
				<rock-entity-summary config="{{config}}"></rock-entity-summary>
		</template>

@group rock Elements
@element rock-entity-summary
@demo demo/index.html
-->

<dom-module id="rock-entity-summary">
  <template>
    <custom-style><style include="pebble-styles-shared">
    </style></custom-style>
    <custom-style><style include="pebble-styles-shared"></style></custom-style>
    <rock-widget-panel config="{{config}}" readonly$="[[readonly]]" no-of-columns="" context-data="[[contextData]]"></rock-widget-panel>
  </template>
  <script>
    (function () {
      'use strict';

      Polymer({
        is: 'rock-entity-summary',
        properties: {
          /**
           * Specifies the widget-panel config used for the "summary" dashboard.
           */
          config: {
            type: Object,
            value: function () {
              return {};
            }
          },
          /**
           * If set as true , it indicates the component is in read only mode
           */
          readonly: {
              type: Boolean,
              value: false		
          },
          /**
            * <b><i>Content development is under progress... </b></i> 
            */
          contextData: {
            type: Object,
            value: function () {
              return {};
            }
          }
        },

        behaviors: [
          RUFBehaviors.ComponentContextBehavior
        ],

        refresh: function () {
          var rockWidgetPanel = this.$$("rock-widget-panel");
          rockWidgetPanel.refresh();
        },

        getControlIsDirty: function () {
          var rockWidgetPanel = this.$$("rock-widget-panel");
          if (rockWidgetPanel && rockWidgetPanel.getControlIsDirty) {
            return rockWidgetPanel.getControlIsDirty();
          }
        }
      });
    })();
  </script>
</dom-module>