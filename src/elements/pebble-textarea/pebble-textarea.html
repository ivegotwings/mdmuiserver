<link rel="import" href="../../../bower_components/polymer/polymer.html">
<link rel="import" href="../../../bower_components/paper-input/paper-textarea.html">

<!--
`pebble-textarea`
 Textarea control for riversand ui framework

@demo demo/index.html 
-->

<dom-module id="pebble-textarea">
  <template>
    <style include="shared-styles"></style>
    <!--<div>{{value}}</div>
    <textarea value="{{value}}" ></textarea>
    <input value="{{value}}" ></input>
    <paper-input 
      id="{{id}}" 
      name={{name}} 
      label="{{label}}" 
      value="{{value}}" 
      on-change="onchange"
      
      type="text"></paper-input>-->
      
      <paper-textarea 
      id="textarea" 
      disabled$="[[disabled]]"
      title$="[[title]]"
      value="{{value}}"
      invalid="{{invalid}}"
      prevent-invalid-input="[[preventInvalidInput]]"
      allowed-pattern="[[allowedPattern]]"
      validator="[[validator]]"
      pattern$="[[pattern]]"
      required$="[[required]]"
      autocomplete$="[[autocomplete]]"
      autofocus$="[[autofocus]]"
      inputmode$="[[inputmode]]"
      minlength$="[[minlength]]"
      maxlength$="[[maxlength]]"
      name$="[[name]]"
      placeholder$="[[placeholder]]"
      readonly$="[[readonly]]"
      list$="[[list]]"
      size$="[[size]]"
      autocapitalize$="[[autocapitalize]]"
      autocorrect$="[[autocorrect]]"
      tabindex$="[[tabindex]]"
      autosave$="[[autosave]]"
      results$="[[results]]"
      accept$="[[accept]]"
      multiple$="[[multiple]]"
      always-float-label$="[[alwaysFloatLabel]]"
      auto-validate$="[[autoValidate]]"
      char-counter$="[[charCounter]]"
      error-message$="[[errorMessage]]"
      focused$="[[focused]]"
      label$="[[label]]"
      no-label-float$="[[noLabelFloat]]"
      
      rows$="[[rows]]"
      max-rows$="[[maxRows]]"
      
      on-change="_onChange"
      
      ></paper-textarea>
    
  </template>

  <script>
    (function() {
      'use strict';

      Polymer({
        is: 'pebble-textarea',
        properties: {
          /**
           * Fired when the input changes due to user interaction.
           *
           * @event change
           */

          value: {
            type: String,
            value: "",
            notify: true
          },
          invalid: {
            type: Boolean,
            value: false,
            notify: true
          },
          label: {
            type: String
          },
          disabled: {
            type: Boolean,
            value: false
          },
          preventInvalidInput: {
            type: Boolean
          },
          allowedPattern: {
            type: String
          },
          list: {
            type: String
          },
          pattern: {
            type: String
          },
          required: {
            type: Boolean,
            value: false
          },
          errorMessage: {
            type: String
          },
          charCounter: {
            type: Boolean,
            value: false
          },
          noLabelFloat: {
            type: Boolean,
            value: false
          },
          alwaysFloatLabel: {
            type: Boolean,
            value: false
          },
          autoValidate: {
            type: Boolean,
            value: false
          },
          validator: {
            type: String
          },
          autocomplete: {
            type: String,
            value: 'off'
          },
          autofocus: {
            type: Boolean
          },
          focused: {
            readOnly: true,
            type: Boolean,
            value: false,
            notify: true
          },
          inputmode: {
            type: String
          },
          minlength: {
            type: Number
          },
          maxlength: {
            type: Number
          },
          // min: {
          //   type: String
          // },
          // max: {
          //   type: String
          // },
          // step: {
          //   type: String
          // },
          name: {
            type: String
          },
          placeholder: {
            type: String,
            // need to set a default so _computeAlwaysFloatLabel is run
            value: ''
          },
          readonly: {
            type: Boolean,
            value: false
          },
          size: {
            type: Number
          },
          autocapitalize: {
            type: String,
            value: 'none'
          },
          autocorrect: {
            type: String,
            value: 'off'
          },
          autosave: {
            type: String
          },
          results: {
            type: Number
          },
          accept: {
            type: String
          },
          multiple: {
            type: Boolean
          },
          maxRows: {
            type: Number,
            value: 0
          },
          rows: {
            type: Number,
            value: 1
          }
        },
        _onChange: function(event) {
          //todo: this is not working right now
          if (this.shadowRoot) {
            this.fire(event.type, {
              sourceEvent: event
            }, {
              node: this,
              bubbles: event.bubbles,
              cancelable: event.cancelable
            });
          }
        },
      });
    })();
  </script>

</dom-module>