<!--
`<pebble-dialog>` Represents a dialog with material design styling and optional animations when it is
opened or closed. It provides styles for a header, content area, and an action area for buttons.

The following code implements a dialog with a header, scrolling content area and
buttons. The focus is on the `dialog-confirm` button when the dialog is opened.

    <pebble-dialog>
      <h2>Header</h2>
        Lorem ipsum...
      <div class="buttons">
        <paper-button dialog-dismiss>Cancel</paper-button>
        <paper-button dialog-confirm autofocus>Accept</paper-button>
      </div>
    </pebble-dialog>

Custom property    | Description              | Default
-------------------|-------------|-------------
`--dialog-layout`  | Mixin applied to #dialog | `{}`


@group pebble Elements
@element pebble-dialog
@demo demo/index.html
-->
<link rel="import" href="../../../bower_components/polymer/polymer.html">
<link rel="import" href="../../../bower_components/paper-dialog/paper-dialog.html">

<dom-module id="pebble-dialog">
    <template>
        <style>
            #dialog {
                @apply(--dialog-layout);
            }
        </style>
        <paper-dialog id="dialog" 
        
        modal="[[modal]]" position-target="[[positionTarget]]" horizontal-align="[[horizontalAlign]]"
        vertical-align="[[verticalAlign]]" dynamic-align="[[dynamicAlign]]" no-overlap="[[noOverlap]]"
        vertical-offset="[[verticalOffset]]" horizontal-offset="[[horizontalOffset]]"> 
            <content></content>
        </paper-dialog>
    </template>
    <script>
        Polymer({
            is: "pebble-dialog",

            properties: {
              /**
                * Indicates whether or not the dialog is modal.
                * If it is set to <b>true</b>, then this implies no-cancel-on-outside-click, no-cancel-on-esc-key, and with-backdrop.
                */
                modal: {
                    type: Boolean
                },

                /**
                * Indicates the orientation against which the element are aligned horizontally relative to the positionTarget.
                * The possible values are left, right, and auto.
                */
                horizontalAlign: {
                    type: String
                },

                /**
                * Indicates the orientation against which the element are aligned vertically relative to the positionTarget.
                * The possible values are top, bottom, and auto.
                */
                verticalAlign: {
                    type: String
                },

               /**
                * Indicates the alignment of dialog dynamically.
                * If it is set to <b>true</b>, then it uses horizontalAlign and verticalAlign values as preferred alignment.
                * And if there is not enough space, then it picks the values, which minimizes the cropping.
                */
                dynamicAlign: {
                    type: Boolean,
                },


                /**
                * Indicates whether or not to position the element around the positionTarget without overlapping it.
                */
                noOverlap: {
                    type: Boolean
                },

                /**
                * Indicates the element that is used to position the dialog control. If it is not set, then it defaults to the parent node.
                */
                positionTarget: {
                    type: Element,
                    observer: '_positionTargetChanged'
                },

                /**
                * Indicates the vertical positioning. It is same as setting margin-top and margin-bottom css properties. 
                */
                verticalOffset: {
                    type: Number
                },

                /**
                * Indicates horizontal positioning. It is same as setting margin-left and margin-right css properties.
                */
                horizontalOffset: {
                    type: Number
                }
            },
            /**
            * Can be used to open the overlay.
            */
            open: function() {
                this.$.dialog.open();
            },

            close: function() {
                this.$.dialog.close();
            },

            _positionTargetChanged: function() {
                this.$.dialog.style.margin = "0px";
            },  
        });
    </script>
</dom-module>