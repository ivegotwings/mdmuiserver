<link rel="import" href="../../../../bower_components/polymer/polymer.html">
<link rel="import" href="../pebble-textbox-collection.html">
<link rel="import" href="../../bedrock-pubsub/bedrock-pubsub.html">
<link rel="import" href="../../bedrock-ui-behavior/bedrock-ui-behavior.html">

<dom-module id="textcollection-demo">
    <template>        
        <bedrock-pubsub event-name="on-tag-remove" handler="onTagRemove"></bedrock-pubsub>
        <bedrock-pubsub event-name="on-tag-add" handler="onTagAdd"></bedrock-pubsub>
        <pebble-textbox-collection values="[[values]]"></pebble-textbox-collection>
    </template>
    <script>
        Polymer({
            is: "textcollection-demo",

            properties: {
                values: {
                    type: Array,
                    value: [{"name":"color", "longName": "Color"},
                            {"name":"size", "longName": "Size"}]
                }
            },

            behaviors: [
                RUFBehaviors.UIBehavior
            ],

            onTagRemove: function(e, detail, sender) {
                console.log("event triggered: " + JSON.stringify(detail.tag));
            },

            onTagAdd: function(e, detail, sender) {                
                this.push('values', {"name": detail.text, "longName": detail.text});
            }
        })
    </script>
</dom-module>