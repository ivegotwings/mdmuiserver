<link rel="import" href="../bower_components/app-layout/app-drawer/app-drawer.html">
<link rel="import" href="../bower_components/app-layout/app-drawer-layout/app-drawer-layout.html">
<link rel="import" href="../bower_components/app-layout/app-header/app-header.html">
<link rel="import" href="../bower_components/app-layout/app-header-layout/app-header-layout.html">
<link rel="import" href="../bower_components/app-layout/app-scroll-effects/app-scroll-effects.html">
<link rel="import" href="../bower_components/app-layout/app-toolbar/app-toolbar.html">
<link rel="import" href="../bower_components/paper-scroll-header-panel/paper-scroll-header-panel.html">
<link rel="import" href="../bower_components/paper-toolbar/paper-toolbar.html">
<link rel="import" href="../bower_components/paper-icon-button/paper-icon-button.html">
<link rel="import" href="../bower_components/paper-progress/paper-progress.html">
<link rel="import" href="../bower_components/paper-drawer-panel/paper-drawer-panel.html">
<link rel="import" href="../bower_components/paper-menu/paper-menu.html">
<link rel="import" href="../bower_components/paper-input/paper-input.html">
<link rel="import" href="../bower_components/iron-pages/iron-pages.html">
<link rel="import" href="../bower_components/iron-iconset-svg/iron-iconset-svg.html">
<link rel="import" href="../src/elements/rock-search/rock-search.html">
<link rel="import" href="../src/elements/rock-page-title/rock-page-title.html">
<link rel="import" href="../src/elements/rock-navmenu/rock-navmenu.html">
<link rel="import" href="../src/elements/rock-footer/rock-footer.html">
<link rel="import" href="../src/elements/rock-app-pages/rock-app-pages.html">

<!--
`main-app`
Main os app for riversand ui framework

@demo demo/index.html 
-->

<dom-module id="main-app">
	<template>
		<style is="custom-style" include="app-theme">
			paper-toolbar {
				width: 100%;
				color: black;
				background-color: white;
			}
			
			paper-toolbar a {
				text-decoration: none;
			}
		</style>
		<style is="custom-style" include="shared-styles"></style>
		<style>
			:host {
				--app-primary-color: #4285f4;
				--app-secondary-color: black;
				display: block;
			}
			
			app-toolbar {
				background-color: white;
				padding: 0px;
			}
			
			app-header {
				color: black;
				background-color: white;
			}
			
			app-header paper-icon-button {
				--paper-icon-button-ink-color: white;
			}
			
			.drawer-list {
				margin: 0 20px;
			}
			
			.drawer-list a {
				display: block;
				padding: 0 16px;
				text-decoration: none;
				color: var(--app-secondary-color);
				line-height: 40px;
			}
			
			.drawer-list a.iron-selected {
				color: black;
				font-weight: bold;
			}
		</style>

		<app-drawer-layout fullbleed>
			<!-- Drawer content -->
			<!--<app-drawer id="drawer">-->
			<paper-drawer-panel id="paperDrawerPanel" class="collapsed-menu">
				<paper-scroll-header-panel drawer class="rsMenu">
					<rock-navmenu id="navMenu" route="{{route}}"></rock-navmenu>
				</paper-scroll-header-panel>
				<paper-scroll-header-panel main>
					<rock-app-pages route="{{route}}"></rock-app-pages>
					<rock-footer></rock-footer>
				</paper-scroll-header-panel>
			</paper-drawer-panel>
			<!--<app-toolbar>Menu</app-toolbar>
				<iron-selector selected="[[page]]" attr-for-selected="name" class="drawer-list" role="navigation">
					<a name="view1" href="/view1">View One</a>
					<a name="view2" href="/view2">View Two</a>
					<a name="view3" href="/view3">View Three</a>
				</iron-selector>
			</app-drawer>-->

			<!-- Main content -->
			<app-header-layout has-scrolling-region>
				<app-header condenses reveals effects="waterfall">
					<app-toolbar>
						<paper-toolbar class="top-toolbar">
							<paper-icon-button icon="pebble-icons:menu" class="toggle-drawer" on-click="toggleDrawer"></paper-icon-button>
							<a style="float:left;margin-right:10px;display:block;" data-route="rs-app-userdashboard" href="/" on-click="onDataRouteClick">
								<img width="15" height="30" src="images/logo.svg"></img>
							</a>
							<h1>
								<a data-route="rs-app-userdashboard" href="/" on-click="onDataRouteClick">MDMCenter</a>
							</h1>

							<span class="flex"></span>
							<rock-search></rock-search>
							<paper-icon-button icon="pebble-icons:refresh" class="refresh-icon"></paper-icon-button>
							<paper-icon-button icon="pebble-icons:notifications"></paper-icon-button>
							<paper-progress id="appProgress" class="middle fit" value="0" min="0" max="1000"></paper-progress>
						</paper-toolbar>
					</app-toolbar>
				</app-header>

				<iron-pages selected="[[page]]" attr-for-selected="name" fallback-selection="view404" role="main">
					<my-view1 name="view1"></my-view1>
					<my-view2 name="view2"></my-view2>
					<my-view3 name="view3"></my-view3>
					<my-view404 name="view404"></my-view404>
				</iron-pages>
			</app-header-layout>
		</app-drawer-layout>




		<!--<paper-scroll-header-panel fixed>
			<paper-toolbar class="top-toolbar">
				<paper-icon-button icon="pebble-icons:menu" class="toggle-drawer" on-click="toggleDrawer"></paper-icon-button>
				<a style="float:left;margin-right:10px;display:block;" data-route="rs-app-userdashboard" href="/" on-click="onDataRouteClick">
					<img width="15" height="30" src="platform/assets/images/logo.svg"></img>
				</a>
				<h1>
					<a data-route="rs-app-userdashboard" href="/" on-click="onDataRouteClick">MDMCenter</a>
				</h1>

				<span class="flex"></span>
				<rock-search></rock-search>
				<paper-icon-button icon="pebble-icons:refresh" class="refresh-icon"></paper-icon-button>
				<paper-icon-button icon="pebble-icons:notifications"></paper-icon-button>
				<paper-progress id="appProgress" class="middle fit" value="0" min="0" max="1000"></paper-progress>
			</paper-toolbar>

			<paper-drawer-panel id="paperDrawerPanel" class="collapsed-menu">
				<paper-scroll-header-panel drawer class="rsMenu">
					<rock-navmenu id="navMenu" route="{{route}}"></rock-navmenu>
				</paper-scroll-header-panel>
				<paper-scroll-header-panel main>
					<rock-app-pages route="{{route}}"></rock-app-pages>
					<rock-footer></rock-footer>
				</paper-scroll-header-panel>
			</paper-drawer-panel>
		</paper-scroll-header-panel>-->
	</template>
	<script>
    Polymer({

      is: 'main-app',
	  properties:{
         cols: '2'
	  },
	  // Toggle Drawer
     toggleDrawer: function() {
    var drawerPanel = document.getElementById('paperDrawerPanel');
    if (drawerPanel.narrow) {
      drawerPanel.togglePanel();
    } else {
      drawerPanel.classList.toggle('collapsed-menu');
    }
  },

  // Scroll page to top and expand header
  scrollPageToTop: function() {
    document.getElementById('mainContainer').scrollTop = 0;
  }

      
    });
	 window.addEventListener('WebComponentsReady', function(e) {
                      
              document.querySelector("#navMenu").menuItems = [{
              title: 'Dashboard',
              data_route: 'rs-app-userdashboard',
              icon: 'rs-icons:dashboard',
              href: '/'
            },
            {
              title: 'Charts',
              data_route: 'rs-app-charts-demo',
              icon: 'rs-icons:trending-up',
              href: '/charts'
            },
            {
              title: 'Form Elements',
              data_route: 'rs-app-formelements-demo',
              icon: 'rs-icons:input',
              href: '/form-elements'
            },
            {
              title: 'User Profile',
              data_route: 'rs-app-userprofile',
              icon: 'rs-icons:account-box',
              href: '/user-profile'
            },
            {
              title: 'Falcor Demo',
              data_route: 'rs-app-falcor-demo',
              icon: 'rs-icons:view-list',
              href: 'falcor-demo'
            },
            {
              title: 'Grid Demo',
              data_route: 'rs-app-grid-demo',
              icon: 'rs-icons:view-stream',
              href: 'grid-demo'
            }];
       });
  </script>
</dom-module>